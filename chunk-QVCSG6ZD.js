import{a as ze}from"./chunk-ADPTYAMQ.js";import"./chunk-A7ZA3IGE.js";import{a as Ee,b as we,c as ke,d as Te,e as Me,f as Pe,g as Ie,h as Re,i as Ae,j as Le,k as De,m as Ve,n as Ne,o as Fe,p as _}from"./chunk-PHGIGVAO.js";import{m as ee}from"./chunk-WDWB23UY.js";import{$b as ve,Ab as v,Cb as E,Gb as me,Ha as _e,Ja as m,Ka as le,Pb as be,Sa as Ce,Wb as xe,Xa as w,Zb as Se,_b as Z,a as N,b as oe,cb as u,db as Q,eb as x,fb as J,gb as K,hb as a,ib as i,jb as y,kb as z,l as he,la as c,lb as h,m as ye,ma as p,mb as g,na as b,nb as B,oa as O,pb as W,qb as H,rb as G,sb as r,tb as M,ub as D,vb as P,wb as I,xb as R,yb as fe,zb as se}from"./chunk-OVYIXNY7.js";var U=function(o){return o[o.FLOATING=0]="FLOATING",o[o.FIXED=1]="FIXED",o}(U||{}),q=function(o){return o[o.TENURE=0]="TENURE",o[o.EMI=1]="EMI",o}(q||{});var We=["loanStartDateInput"],He=["emiChart"],Ge=["revisionChart"],Ue=["paymentsChart"],qe=["emiChartContainer"],$e=["revisionsChartContainer"],ue=(o,l)=>l.month,Qe=(o,l)=>l.financialYear,Oe=()=>[];function Ze(o,l){if(o&1){let e=z();a(0,"div",37),y(1,"input",64),i(),a(2,"div",37),y(3,"input",64),i(),a(4,"div",37)(5,"select",65)(6,"option",66),r(7," Tenure "),i(),a(8,"option",66),r(9," EMI "),i()()(),a(10,"div",37)(11,"button",44),h("click",function(){let n=c(e).$index,d=g(3);return p(d.removeRateChange(n))}),b(),a(12,"svg",45),y(13,"path",67),i(),O(),a(14,"span",47),r(15,"Remove"),i()()()}if(o&2){let e=l.$implicit,t=l.$index,n=g(3);m(),B("name","revised-month-",t,""),u("value",e.month),m(2),B("name","revised-interest-",t,""),u("value",e.newRate),m(2),B("name","revised-adjustment-type-",t,""),m(),u("value",n.RevisionAdjustmentType.TENURE)("selected",e.adjustmentType===n.RevisionAdjustmentType.TENURE),m(2),u("value",n.RevisionAdjustmentType.EMI)("selected",e.adjustmentType===n.RevisionAdjustmentType.EMI)}}function Xe(o,l){if(o&1&&J(0,Ze,16,12,null,null,ue),o&2){let e=g(2);K(e.rateChanges)}}function Je(o,l){o&1&&(a(0,"div",39),r(1," To add interest rate revision, click the below + button. "),i())}function Ke(o,l){if(o&1){let e=z();a(0,"section",19)(1,"h2",35),r(2," Interest Rate Revisions "),i(),a(3,"div",36)(4,"div",37)(5,"h2",38),r(6," Month "),i()(),a(7,"div",37)(8,"h2",38),r(9," Interest "),i()(),a(10,"div",37)(11,"h2",38),r(12," Adjust "),i()(),a(13,"div",37)(14,"h2",38),r(15," Add/Remove "),i()(),w(16,Xe,2,0)(17,Je,2,0,"div",39),a(18,"div",37)(19,"input",61),R("ngModelChange",function(n){c(e);let d=g();return I(d.rateChangeMonth,n)||(d.rateChangeMonth=n),p(n)}),i()(),a(20,"div",37)(21,"input",62),R("ngModelChange",function(n){c(e);let d=g();return I(d.rateChangeNewRate,n)||(d.rateChangeNewRate=n),p(n)}),i()(),a(22,"div",37)(23,"select",63),h("ngModelChange",function(n){c(e);let d=g();return p(d.onRateChangeAdjustmentTypeChange(n))}),a(24,"option",43),r(25,"Tenure"),i(),a(26,"option",43),r(27,"EMI"),i()()(),a(28,"div",37)(29,"button",44),h("click",function(){c(e);let n=g();return p(n.addRateChange())}),b(),a(30,"svg",45),y(31,"path",46),i(),O(),a(32,"span",47),r(33,"Add"),i()()()()()}if(o&2){let e=g();m(16),x(e.rateChanges.length>0?16:17),m(3),P("ngModel",e.rateChangeMonth),m(2),P("ngModel",e.rateChangeNewRate),m(2),u("ngModel",e.rateChangeAdjustmentType),m(),u("value",e.RevisionAdjustmentType.TENURE),m(2),u("value",e.RevisionAdjustmentType.EMI)}}function et(o,l){if(o&1){let e=z();a(0,"div",37),y(1,"input",64),i(),a(2,"div",37),y(3,"input",64),i(),a(4,"div",37)(5,"select",65)(6,"option",66),r(7," Tenure "),i(),a(8,"option",66),r(9," EMI "),i()()(),a(10,"div",37)(11,"button",44),h("click",function(){let n=c(e).$index,d=g(2);return p(d.removePrepayment(n))}),b(),a(12,"svg",45),y(13,"path",67),i(),O(),a(14,"span",47),r(15,"Remove"),i()()()}if(o&2){let e=l.$implicit,t=l.$index,n=g(2);m(),B("name","prepayment-month-",t,""),u("value",e.month),m(2),B("name","prepayment-amount-",t,""),u("value",e.amount),m(2),B("name","prepayment-adjustment-type-",t,""),m(),u("value",n.RevisionAdjustmentType.TENURE)("selected",e.adjustmentType===n.RevisionAdjustmentType.TENURE),m(2),u("value",n.RevisionAdjustmentType.EMI)("selected",e.adjustmentType===n.RevisionAdjustmentType.EMI)}}function tt(o,l){if(o&1&&J(0,et,16,12,null,null,ue),o&2){let e=g();K(e.prepayments)}}function at(o,l){o&1&&(a(0,"div",39),r(1," To add prepayment, click the below + button. "),i())}function it(o,l){if(o&1&&(a(0,"h3",68),r(1," Monthly Payment = "),a(2,"mark",69),r(3),v(4,"number"),i()(),a(5,"section",70)(6,"h2",35),r(7," Principal & Interest Breakdown "),i(),a(8,"div",71)(9,"div",72)(10,"div",73),r(11),v(12,"number"),i(),a(13,"div"),r(14,"Total"),i()(),a(15,"div",74),y(16,"canvas",75,1),i()()()),o&2){let e=g();m(3),M(E(4,5,e.monthlyPayment,"1.0-0")),m(8),D(" ",E(12,8,e.totalPayments,"1.0-0")," "),m(5),u("type",e.ChartType.DOUGHNUT)("data",e.paymentsChartData)("options",e.paymentsChartOptions)}}function nt(o,l){if(o&1&&(a(0,"option",43),r(1," Interest Rate Revisions "),i()),o&2){let e=g();u("value",e.Tabs.INTEREST_RATE_REVISIONS)}}function rt(o,l){if(o&1){let e=z();a(0,"li",55),h("click",function(){c(e);let n=g();return p(n.activeTab=n.Tabs.INTEREST_RATE_REVISIONS)}),a(1,"p",57),r(2," Interest Rate Revisions "),i()()}if(o&2){let e=g();m(),Q("active",e.activeTab===e.Tabs.INTEREST_RATE_REVISIONS)}}function ot(o,l){o&1&&(a(0,"span",47),r(1,"Minimize"),i(),b(),a(2,"svg",97),y(3,"path",98),i())}function lt(o,l){o&1&&(a(0,"span",47),r(1,"Expand"),i(),b(),a(2,"svg",97),y(3,"path",99),i())}function mt(o,l){if(o&1&&(a(0,"span",102),r(1),v(2,"number"),i(),a(3,"div",103),r(4," Interest needs to be paid for the period between loan start date and first EMI due date. "),y(5,"div",104),i()),o&2){let e=g().$implicit;m(),M(E(2,1,e.payment,"1.0-0"))}}function dt(o,l){if(o&1&&(r(0),v(1,"number")),o&2){let e=g().$implicit;D(" ",E(1,1,e.payment,"1.0-0")," ")}}function st(o,l){if(o&1&&(a(0,"tr",86)(1,"td",100),r(2),i(),a(3,"td",101),r(4),v(5,"date"),i(),a(6,"td",100),w(7,mt,6,4)(8,dt,2,4),i(),a(9,"td",100),r(10),v(11,"number"),i(),a(12,"td",100),r(13),v(14,"number"),i(),a(15,"td",100),r(16),v(17,"number"),i()()),o&2){let e=l.$implicit;m(2),M(e.month),m(2),D(" ",E(5,6,e.paymentDate,"MMM yy")," "),m(3),x(e.month===0?7:8),m(3),D(" ",E(11,9,e.principal,"1.0-0")," "),m(3),D(" ",E(14,12,e.interest,"1.0-0")," "),m(3),D(" ",E(17,15,e.balance,"1.0-0")," ")}}function ct(o,l){if(o&1){let e=z();a(0,"section",76)(1,"div",77,2),y(3,"canvas",78,3),a(5,"div",79)(6,"button",80),h("click",function(){c(e);let n=g();return p(n.toggleFullscreen(n.Charts.EMI))}),w(7,ot,4,0)(8,lt,4,0),i()()()(),a(9,"section",81)(10,"div",82)(11,"table",83)(12,"thead",84)(13,"tr")(14,"th",85),r(15,"EMI"),i(),a(16,"th",85),r(17,"Month"),i(),a(18,"th",85),r(19,"Payment"),i(),a(20,"th",85),r(21,"Principal"),i(),a(22,"th",85),r(23,"Interest"),i(),a(24,"th",85),r(25,"Balance"),i()()(),a(26,"tbody"),J(27,st,18,18,"tr",86,ue),i()()(),a(29,"div",87)(30,"span",88),r(31," Showing "),a(32,"span",89),r(33),i(),r(34," to "),a(35,"span",89),r(36),i(),r(37," of "),a(38,"span",89),r(39),i(),r(40," Entries "),i(),a(41,"div",90)(42,"button",91),h("click",function(){c(e);let n=g();return p(n.amortizationSchedulePage=n.amortizationSchedulePage-1)}),b(),a(43,"svg",92),y(44,"path",93),i(),r(45," Prev "),i(),O(),a(46,"button",94),h("click",function(){c(e);let n=g();return p(n.amortizationSchedulePage=n.amortizationSchedulePage+1)}),r(47," Next "),b(),a(48,"svg",95),y(49,"path",96),i()()()()()}if(o&2){let e=g();m(),u("ngClass",e.isChartInFullscreen?"h-full":"h-96"),m(2),Q("m-4",e.isChartInFullscreen),u("type",e.ChartType.LINE)("data",e.emiChartData)("options",e.emiChartOptions)("plugins",e.emiAndRevisionsChartPlugins||se(14,Oe)),m(2),u("ngClass",e.isChartInFullscreen?"block bottom-2 right-3":"block sm:hidden -bottom-3 -right-1"),m(2),x(e.isChartInFullscreen?7:8),m(20),K(e.amortizationSchedule.slice(e.amortizationSchedulePage*e.pageSize,e.amortizationSchedulePage*e.pageSize+e.pageSize>e.amortizationSchedule.length?e.amortizationSchedule.length:e.amortizationSchedulePage*e.pageSize+e.pageSize)),m(6),M(e.amortizationSchedulePage*e.pageSize+1),m(3),M(e.amortizationSchedulePage*e.pageSize+e.pageSize>e.amortizationSchedule.length?e.amortizationSchedule.length:e.amortizationSchedulePage*e.pageSize+e.pageSize),m(3),M(e.amortizationSchedule.length),m(3),u("disabled",e.amortizationSchedulePage===0),m(4),u("disabled",e.amortizationSchedulePage*e.pageSize+e.pageSize>=e.amortizationSchedule.length)}}function pt(o,l){if(o&1&&(a(0,"tr",86)(1,"td",100),r(2),i(),a(3,"td",100),r(4),v(5,"number"),i(),a(6,"td",100),r(7),v(8,"number"),i(),a(9,"td",100),r(10),v(11,"number"),i()()),o&2){let e=l.$implicit;m(2),M(e.financialYear),m(2),D(" ",E(5,4,e.totalPrincipal,"1.0-0")," "),m(3),D(" ",E(8,7,e.totalInterest,"1.0-0")," "),m(3),D(" ",E(11,10,e.totalAmountPaid,"1.0-0")," ")}}function ut(o,l){if(o&1){let e=z();a(0,"section",59)(1,"div",82)(2,"table",83)(3,"thead",84)(4,"tr")(5,"th",85),r(6,"Year"),i(),a(7,"th",85),r(8,"Principal"),i(),a(9,"th",85),r(10,"Interest"),i(),a(11,"th",85),r(12,"Total"),i()()(),a(13,"tbody"),J(14,pt,12,13,"tr",86,Qe),i()()(),a(16,"div",87)(17,"span",88),r(18," Showing "),a(19,"span",89),r(20),i(),r(21," to "),a(22,"span",89),r(23),i(),r(24," of "),a(25,"span",89),r(26),i(),r(27," Entries "),i(),a(28,"div",90)(29,"button",91),h("click",function(){c(e);let n=g();return p(n.financialYearSummaryPage=n.financialYearSummaryPage-1)}),b(),a(30,"svg",92),y(31,"path",93),i(),r(32," Prev "),i(),O(),a(33,"button",94),h("click",function(){c(e);let n=g();return p(n.financialYearSummaryPage=n.financialYearSummaryPage+1)}),r(34," Next "),b(),a(35,"svg",95),y(36,"path",96),i()()()()()}if(o&2){let e=g();m(14),K(e.financialYearSummaries.slice(e.financialYearSummaryPage*e.pageSize,e.financialYearSummaryPage*e.pageSize+e.pageSize>e.financialYearSummaries.length?e.financialYearSummaries.length:e.financialYearSummaryPage*e.pageSize+e.pageSize)),m(6),M(e.financialYearSummaryPage*e.pageSize+1),m(3),M(e.financialYearSummaryPage*e.pageSize+e.pageSize>e.financialYearSummaries.length?e.financialYearSummaries.length:e.financialYearSummaryPage*e.pageSize+e.pageSize),m(3),M(e.financialYearSummaries.length),m(3),u("disabled",e.financialYearSummaryPage===0),m(4),u("disabled",e.financialYearSummaryPage*e.pageSize+e.pageSize>=e.financialYearSummaries.length)}}function gt(o,l){o&1&&(a(0,"span",47),r(1,"Minimize"),i(),b(),a(2,"svg",97),y(3,"path",98),i())}function ht(o,l){o&1&&(a(0,"span",47),r(1,"Expand"),i(),b(),a(2,"svg",97),y(3,"path",99),i())}function yt(o,l){if(o&1){let e=z();a(0,"div",105)(1,"div",77,4),y(3,"canvas",78,5),a(5,"div",79)(6,"button",80),h("click",function(){c(e);let n=g(2);return p(n.toggleFullscreen(n.Charts.REVISIONS))}),w(7,gt,4,0)(8,ht,4,0),i()()()()}if(o&2){let e=g(2);m(),u("ngClass",e.isChartInFullscreen?"h-full":"h-80"),m(2),Q("m-4",e.isChartInFullscreen),u("type",e.ChartType.LINE)("data",e.revisionsChartData)("options",e.revisionsChartOptions)("plugins",e.emiAndRevisionsChartPlugins||se(9,Oe)),m(2),u("ngClass",e.isChartInFullscreen?"block bottom-2 right-3":"block sm:hidden -bottom-3 -right-1"),m(2),x(e.isChartInFullscreen?7:8)}}function _t(o,l){if(o&1&&(a(0,"section",60),w(1,yt,9,10,"div",105),i()),o&2){let e=g();m(),x(e.interestRateType===e.InterestRateType.FLOATING&&e.rateChanges.length>0?1:-1)}}var ce=function(o){return o[o.AMORTIZATION_SCHEDULE=0]="AMORTIZATION_SCHEDULE",o[o.FINANCIAL_YEAR_SUMMARY=1]="FINANCIAL_YEAR_SUMMARY",o[o.INTEREST_RATE_REVISIONS=2]="INTEREST_RATE_REVISIONS",o}(ce||{}),te=function(o){return o[o.PAYMENTS=0]="PAYMENTS",o[o.EMI=1]="EMI",o[o.REVISIONS=2]="REVISIONS",o}(te||{}),Ye=class pe{document;cdr;decimalPipe;loanStartDateInput;emiChart;revisionChart;paymentsChart;emiChartContainer;revisionsChartContainer;pageSize=12;ChartType=Fe;InterestRateType=U;RevisionAdjustmentType=q;Tabs=ce;Charts=te;principalAmount=25e5;annualInterestRate=9;loanTermYears=30;interestRateType=U.FLOATING;loanStartDate=new Date;emiDebitDay=5;financialYearStartMonth=3;monthlyPayment=0;amortizationSchedule=[];rateChanges=[];prepayments=[];financialYearSummaries=[];totalPrincipalPaid=0;totalInterestPaid=0;totalPayments=0;rateChangeMonth=1;rateChangeNewRate=0;rateChangeAdjustmentType=q.TENURE;prepaymentMonth=1;prepaymentAmount=0;prepaymentAdjustmentType=q.TENURE;activeTab=ce.AMORTIZATION_SCHEDULE;amortizationSchedulePage=0;financialYearSummaryPage=0;isChartInFullscreen=!1;paymentsChartData={labels:["Principal","Interest"],datasets:[N(N({},_.defaultDoughnutChartDataset),_.getDoughnutChartColors([_.colorBlue,_.colorYellow]))]};paymentsChartOptions=_.getDoughnutChartOptions(l=>this.decimalPipe.transform(l.parsed,"1.0-0")||"");emiChartData={labels:[],datasets:[oe(N(N({},_.defaultLineChartDataset),_.getLineChartColor(_.colorBlue)),{label:"Principal"}),oe(N(N({},_.defaultLineChartDataset),_.getLineChartColor(_.colorYellow)),{label:"Interest"})]};emiChartOptions=_.getLineChartOptions("EMI","Amount",!1,l=>{let e=l.dataset.label||"",t=l.parsed.y;return e&&t?`${e}: ${this.decimalPipe.transform(t,"1.0-0")||""}`:""},l=>l[0]?.label?`EMI: ${l[0].label}`:"");revisionsChartData={labels:[],datasets:[oe(N(N({},_.defaultLineChartDataset),_.getLineChartColor(_.colorPurple)),{label:"Interest Rate"})]};revisionsChartOptions=_.getLineChartOptions("EMI","Interest Rate",!1,l=>{let e=l.dataset.label||"",t=l.parsed.y;return e&&t?`${e}: ${this.decimalPipe.transform(t,"1.2-2")||""}%`:""},l=>l[0]?.label?`EMI: ${l[0].label}`:"");emiAndRevisionsChartPlugins=[_.verticalHoverLine,_.increaseLegendSpacing];datepicker;constructor(l,e,t){this.document=l,this.cdr=e,this.decimalPipe=t}ngOnInit(){this.initDatePicker(),this.calculateAmortization()}onFullscreenChange(){this.isChartInFullscreen=!!this.document.fullscreenElement}onLoanStartDateChange(l){this.loanStartDate=new Date(l),this.calculateAmortization()}onRateChangeAdjustmentTypeChange(l){this.rateChangeAdjustmentType=Number(l)}onPrepaymentAdjustmentTypeChange(l){this.prepaymentAdjustmentType=Number(l)}onTabChange(l){this.activeTab=Number(l)}addRateChange(){this.rateChanges.push({month:this.rateChangeMonth,newRate:this.rateChangeNewRate,adjustmentType:this.rateChangeAdjustmentType}),this.rateChanges.sort((l,e)=>l.month-e.month),this.rateChangeMonth++,this.calculateAmortization()}removeRateChange(l){this.rateChanges.splice(l,1),this.calculateAmortization()}addPrepayment(){this.prepayments.push({month:this.prepaymentMonth,amount:this.prepaymentAmount,adjustmentType:this.prepaymentAdjustmentType}),this.prepayments.sort((l,e)=>l.month-e.month),this.prepaymentMonth++,this.calculateAmortization()}removePrepayment(l){this.prepayments.splice(l,1),this.calculateAmortization()}toggleFullscreen(l){if(this.document.fullscreenElement)this.document.exitFullscreen();else{let e;switch(l){case te.EMI:e=this.emiChartContainer;break;case te.REVISIONS:e=this.revisionsChartContainer;break;case te.PAYMENTS:default:return}e&&e.nativeElement.requestFullscreen().then(()=>{screen.orientation.lock("landscape").catch(t=>{console.error(`An error occurred while trying to lock screen orientation to landscape: ${t.message} (${t.name})`)}),this.cdr.markForCheck()}).catch(t=>{console.error(`An error occurred while trying to switch into fullscreen mode: ${t.message} (${t.name})`)})}}calculateAmortization(){let l=this.principalAmount,e=this.loanTermYears*12,t=l,n=0,d=this.annualInterestRate,s=e;this.amortizationSchedule=[];let k=this.calculateMonthlyPayment(l,d,e);this.monthlyPayment=Math.ceil(k),this.interestRateType===U.FLOATING&&this.rateChanges.sort((L,C)=>L.month-C.month),this.prepayments.sort((L,C)=>L.month-C.month);let V=1,ae=0,ie=0;this.financialYearSummaries=[];let f=new Date(this.loanStartDate);f.setDate(this.emiDebitDay),f<this.loanStartDate&&f.setMonth(f.getMonth()+1);let A=new Map,F=0,je=1e3*60*60*24,ne=new Date(this.loanStartDate);if(ne.setDate(ne.getDate()+1),f>ne){let L=Math.floor((f.getTime()-ne.getTime())/je);if(L>0){let C=d/100/12/30;F=l*C*L,n+=F,this.totalInterestPaid=Math.ceil(F);let S=new Date(f);S.setDate(S.getDate()-1);let T=new Date(S.getFullYear(),this.financialYearStartMonth,1);S<T&&T.setFullYear(T.getFullYear()-1);let j=`${T.getFullYear().toString().slice(-2)}-${(T.getFullYear()+1).toString().slice(-2)}`;A.has(j)||A.set(j,{principal:0,interest:0,totalPayment:0});let $=A.get(j);$.interest+=F,$.totalPayment+=F,this.amortizationSchedule.push({month:0,paymentDate:S,payment:Math.ceil(F),principal:0,interest:Math.ceil(F),totalInterest:Math.ceil(n),balance:Math.ceil(t),interestRate:d})}}for(f.setMonth(f.getMonth()+1),this.totalPrincipalPaid=0,this.totalInterestPaid=Math.ceil(F),this.totalPayments=0;t>0&&V<=s;){if(this.interestRateType===U.FLOATING&&ae<this.rateChanges.length&&V===this.rateChanges[ae].month){let Y=this.rateChanges[ae];if(d=Y.newRate,Y.adjustmentType===q.EMI)k=this.calculateMonthlyPayment(t,d,e-V+1),this.monthlyPayment=Math.ceil(k);else{let re=this.calculateNewTenure(t,d,k);s=V+re-1}ae++}if(ie<this.prepayments.length&&V===this.prepayments[ie].month){let Y=this.prepayments[ie];t=Math.max(t-Y.amount,0),this.totalPrincipalPaid+=Y.amount;let re=new Date(f),X=new Date(re.getFullYear(),this.financialYearStartMonth,1);re<X&&X.setFullYear(X.getFullYear()-1);let de=`${X.getFullYear()}-${(X.getFullYear()+1).toString().slice(-2)}`;A.has(de)||A.set(de,{principal:0,interest:0,totalPayment:0});let ge=A.get(de);if(ge.principal+=Y.amount,ge.totalPayment+=Y.amount,Y.adjustmentType===q.EMI)k=this.calculateMonthlyPayment(t,d,e-V+1),this.monthlyPayment=Math.ceil(k);else{let Be=this.calculateNewTenure(t,d,k);s=V+Be-1}ie++}let L=d/100/12,C=t*L,S=k-C;S>t&&(S=t,k=S+C),t=Math.max(t-S,0),n+=C,this.totalPrincipalPaid+=S,this.totalInterestPaid+=C;let T=new Date(f.getFullYear(),this.financialYearStartMonth,1);f<T&&T.setFullYear(T.getFullYear()-1);let j=`${T.getFullYear().toString().slice(-2)}-${(T.getFullYear()+1).toString().slice(-2)}`;A.has(j)||A.set(j,{principal:0,interest:0,totalPayment:0});let $=A.get(j);if($.principal+=S,$.interest+=C,$.totalPayment+=k,this.amortizationSchedule.push({month:V,paymentDate:new Date(f),payment:Math.ceil(k),principal:Math.ceil(S),interest:Math.ceil(C),totalInterest:Math.ceil(n),balance:Math.ceil(t),interestRate:d}),t===0)break;V++,f.setMonth(f.getMonth()+1)}this.totalPrincipalPaid=Math.ceil(this.totalPrincipalPaid),this.totalInterestPaid=Math.ceil(this.totalInterestPaid),this.totalPayments=Math.ceil(this.totalPrincipalPaid+this.totalInterestPaid),this.financialYearSummaries=Array.from(A.entries()).map(([L,C])=>({financialYear:L,totalPrincipal:Math.ceil(C.principal),totalInterest:Math.ceil(C.interest),totalAmountPaid:Math.ceil(C.totalPayment)})),this.rateChangeNewRate=this.rateChanges[this.rateChanges.length-1]?.newRate||this.annualInterestRate,this.prepaymentAmount=Math.max(this.prepaymentAmount,this.monthlyPayment),this.amortizationSchedulePage=0,this.financialYearSummaryPage=0,this.updatePaymentsChart(),this.updateEmiChart(),this.interestRateType===U.FLOATING&&this.updateRevisionChart()}calculateMonthlyPayment(l,e,t){let n=e/100/12;return l*n/(1-Math.pow(1+n,-t))}calculateNewTenure(l,e,t){let n=e/100/12;return Math.ceil(-Math.log(1-l*n/t)/Math.log(1+n))}updatePaymentsChart(){this.paymentsChartData.datasets[0].data=[Math.ceil(this.totalPrincipalPaid),Math.ceil(this.totalInterestPaid)],this.paymentsChart&&this.paymentsChart.update()}updateEmiChart(){let l=this.amortizationSchedule.map(n=>n.month),e=this.amortizationSchedule.map(n=>n.principal),t=this.amortizationSchedule.map(n=>n.interest);this.emiChartData.labels=l,this.emiChartData.datasets[0].data=e,this.emiChartData.datasets[1].data=t,this.emiChart&&this.emiChart.update()}updateRevisionChart(){let l=this.amortizationSchedule.map(d=>d.month),e=new Array(this.amortizationSchedule.length),t=this.annualInterestRate,n=0;for(let d=0;d<this.amortizationSchedule.length;d++){let s=d+1;n<this.rateChanges.length&&s===this.rateChanges[n].month&&(t=this.rateChanges[n].newRate,n++),e[d]=t}this.revisionsChartData.labels=l,this.revisionsChartData.datasets[0].data=e,this.revisionChart&&this.revisionChart.update()}resetDatepicker(){this.datepicker?.setDate(Date.now(),{clear:!0})}initDatePicker(){this.loanStartDateInput&&(this.datepicker=new Datepicker(this.loanStartDateInput.nativeElement,{autohide:!0,format:"dd/mm/yyyy",todayBtn:!0,clearBtn:!0,todayBtnMode:1,todayHighlight:!0}),this.loanStartDateInput.nativeElement.addEventListener("changeDate",l=>{let e=l.target.value.split("/");this.loanStartDate=new Date(`${e[2]}/${e[1]}/${e[0]}`),this.calculateAmortization()}),this.resetDatepicker())}static \u0275fac=function(e){return new(e||pe)(le(be),le(me),le(Z))};static \u0275cmp=Ce({type:pe,selectors:[["app-loan-emi-calculator"]],viewQuery:function(e,t){if(e&1&&(W(We,7),W(He,5,ee),W(Ge,5,ee),W(Ue,5,ee),W(qe,5),W($e,5)),e&2){let n;H(n=G())&&(t.loanStartDateInput=n.first),H(n=G())&&(t.emiChart=n.first),H(n=G())&&(t.revisionChart=n.first),H(n=G())&&(t.paymentsChart=n.first),H(n=G())&&(t.emiChartContainer=n.first),H(n=G())&&(t.revisionsChartContainer=n.first)}},hostBindings:function(e,t){e&1&&h("fullscreenchange",function(){return t.onFullscreenChange()},!1,_e)},features:[fe([Z])],decls:105,vars:32,consts:[["loanStartDateInput",""],["paymentsChart",""],["emiChartContainer",""],["emiChart",""],["revisionsChartContainer",""],["revisionsChart",""],[1,"p-4","text-gray-500","dark:text-gray-400"],[1,"m-4","mt-0","block","text-center","text-2xl","font-semibold","text-gray-900","sm:mb-10","sm:mt-4","dark:text-white"],[1,"mt-4",3,"ngSubmit"],[1,"mb-6","grid","grid-cols-1","md:grid-cols-2","md:gap-10"],[1,"mb-6","flex"],[1,"block","flex-1","text-sm","font-medium","text-gray-900","dark:text-white"],[1,"flex"],[1,"me-4","flex","items-center"],["id","floating","type","radio","name","interest-rate-type",1,"text-primary-600","focus:ring-primary-500","dark:focus:ring-primary-600","h-4","w-4","border-gray-300","bg-gray-100","focus:ring-2","dark:border-gray-600","dark:bg-gray-700","dark:ring-offset-gray-800",3,"ngModelChange","change","ngModel","value"],["for","floating",1,"ms-2","text-sm","font-medium","text-gray-900","dark:text-gray-300"],[1,"flex","items-center"],["id","fixed","type","radio","name","interest-rate-type",1,"text-primary-600","focus:ring-primary-500","dark:focus:ring-primary-600","h-4","w-4","border-gray-300","bg-gray-100","focus:ring-2","dark:border-gray-600","dark:bg-gray-700","dark:ring-offset-gray-800",3,"ngModelChange","change","ngModel","value"],["for","fixed",1,"ms-2","text-sm","font-medium","text-gray-900","dark:text-gray-300"],[1,"mb-6"],["for","principal",1,"mb-2","block","text-sm","font-medium","text-gray-900","dark:text-white"],["type","number","id","principal","name","principal","placeholder","","required","",1,"focus:border-primary-500","focus:ring-primary-500","dark:focus:border-primary-500","dark:focus:ring-primary-500","block","w-full","rounded-lg","border","border-gray-300","bg-gray-50","p-2.5","text-sm","text-gray-900","dark:border-gray-600","dark:bg-gray-700","dark:text-white","dark:placeholder-gray-400",3,"ngModelChange","change","ngModel"],["for","interest",1,"mb-2","block","text-sm","font-medium","text-gray-900","dark:text-white"],["type","number","id","interest","name","interest","placeholder","","required","",1,"focus:border-primary-500","focus:ring-primary-500","dark:focus:border-primary-500","dark:focus:ring-primary-500","block","w-full","rounded-lg","border","border-gray-300","bg-gray-50","p-2.5","text-sm","text-gray-900","dark:border-gray-600","dark:bg-gray-700","dark:text-white","dark:placeholder-gray-400",3,"ngModelChange","change","ngModel"],["for","tenure",1,"mb-2","block","text-sm","font-medium","text-gray-900","dark:text-white"],["type","number","id","tenure","name","tenure","placeholder","","required","",1,"focus:border-primary-500","focus:ring-primary-500","dark:focus:border-primary-500","dark:focus:ring-primary-500","block","w-full","rounded-lg","border","border-gray-300","bg-gray-50","p-2.5","text-sm","text-gray-900","dark:border-gray-600","dark:bg-gray-700","dark:text-white","dark:placeholder-gray-400",3,"ngModelChange","change","ngModel"],["for","loan-start-date",1,"mb-2","block","text-sm","font-medium","text-gray-900","dark:text-white"],[1,"relative"],[1,"pointer-events-none","absolute","inset-y-0","start-0","flex","items-center","ps-3.5"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 20 20",1,"h-4","w-4","text-gray-500","dark:text-gray-400"],["d","M20 4a2 2 0 0 0-2-2h-2V1a1 1 0 0 0-2 0v1h-3V1a1 1 0 0 0-2 0v1H6V1a1 1 0 0 0-2 0v1H2a2 2 0 0 0-2 2v2h20V4ZM0 18a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8H0v10Zm5-8h10a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z"],["type","text","id","loan-start-date","name","loan-start-date","placeholder","DD/MM/YYYY","required","","readonly","",1,"focus:ring-primary-600","focus:border-primary-600","dark:focus:ring-primary-500","dark:focus:border-primary-500","block","w-full","rounded-lg","border","border-gray-300","bg-gray-50","p-2.5","ps-10","text-sm","text-gray-900","dark:border-gray-600","dark:bg-gray-700","dark:text-white","dark:placeholder-gray-400",3,"ngModelChange","ngModel"],["for","emi-due-day",1,"mb-2","block","text-sm","font-medium","text-gray-900","dark:text-white"],["type","number","id","emi-due-day","name","emi-due-day","placeholder","","required","",1,"focus:border-primary-500","focus:ring-primary-500","dark:focus:border-primary-500","dark:focus:ring-primary-500","block","w-full","rounded-lg","border","border-gray-300","bg-gray-50","p-2.5","text-sm","text-gray-900","dark:border-gray-600","dark:bg-gray-700","dark:text-white","dark:placeholder-gray-400",3,"ngModelChange","change","ngModel"],[1,"mt-6","md:mt-0"],[1,"mb-4","block","text-center","text-sm","font-medium","text-gray-900","dark:text-white"],[1,"grid","grid-cols-4","gap-4"],[1,"flex","items-center","justify-center"],[1,"block","text-xs","font-medium","text-gray-900","dark:text-white"],[1,"col-span-4","rounded-lg","bg-yellow-50","p-4","text-sm","text-yellow-800","dark:bg-gray-800","dark:text-yellow-300"],["type","number","name","prepayment-month","placeholder","","required","",1,"focus:border-primary-500","focus:ring-primary-500","dark:focus:border-primary-500","dark:focus:ring-primary-500","block","w-full","rounded-lg","border","border-gray-300","bg-gray-50","p-2","text-xs","text-gray-900","dark:border-gray-600","dark:bg-gray-700","dark:text-white","dark:placeholder-gray-400",3,"ngModelChange","ngModel"],["type","number","name","prepayment-amount","placeholder","","required","",1,"focus:border-primary-500","focus:ring-primary-500","dark:focus:border-primary-500","dark:focus:ring-primary-500","block","w-full","rounded-lg","border","border-gray-300","bg-gray-50","p-2","text-xs","text-gray-900","dark:border-gray-600","dark:bg-gray-700","dark:text-white","dark:placeholder-gray-400",3,"ngModelChange","ngModel"],["name","prepayment-adjustment-type",1,"focus:border-primary-500","focus:ring-primary-500","dark:focus:border-primary-500","dark:focus:ring-primary-500","block","w-full","rounded-lg","border","border-gray-300","bg-gray-50","p-2","text-xs","text-gray-900","dark:border-gray-600","dark:bg-gray-700","dark:text-white","dark:placeholder-gray-400",3,"ngModelChange","ngModel"],[3,"value"],["type","button",1,"border-primary-700","text-primary-700","hover:bg-primary-700","focus:ring-primary-300","dark:border-primary-500","dark:text-primary-500","dark:hover:bg-primary-500","dark:focus:ring-primary-800","inline-flex","items-center","rounded-full","border","p-1","text-center","text-sm","font-medium","hover:text-white","focus:outline-none","focus:ring-4","dark:hover:text-white",3,"click"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","width","24","height","24","fill","none","viewBox","0 0 24 24",1,"h-4","w-4"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 12h14m-7 7V5"],[1,"sr-only"],[1,"flex","w-full","justify-center","md:mt-0"],["type","submit",1,"bg-primary-700","hover:bg-primary-800","focus:ring-primary-300","dark:bg-primary-600","dark:hover:bg-primary-700","dark:focus:ring-primary-800","w-full","rounded-lg","px-5","py-2.5","text-center","text-sm","font-medium","text-white","focus:outline-none","focus:ring-4","sm:w-auto"],[1,"mt-10"],[1,"mt-6","flex","items-center","sm:hidden"],["for","tabs",1,"me-2","text-xl","font-bold","text-gray-900","dark:text-white"],["id","tabs",1,"flex-1","rounded-lg","border","border-gray-300","bg-gray-50","p-2.5","text-sm","text-gray-900","focus:border-blue-500","focus:ring-blue-500","dark:border-gray-600","dark:bg-gray-700","dark:text-white","dark:placeholder-gray-400","dark:focus:border-blue-500","dark:focus:ring-blue-500",3,"ngModelChange","ngModel"],[1,"mt-6","hidden","flex-wrap","border-b","border-gray-200","text-center","text-sm","font-medium","text-gray-500","sm:flex","dark:border-gray-700","dark:text-gray-400"],[1,"me-2",3,"click"],[1,"inline-block","cursor-pointer","rounded-t-lg","p-4"],[1,"inline-block","cursor-pointer","rounded-t-lg","p-4","hover:bg-gray-50","hover:text-gray-600","dark:hover:bg-gray-800","dark:hover:text-gray-300"],[1,"me-2"],[1,"mt-4","pb-4","sm:pb-0"],[1,"mt-4"],["type","number","name","revised-month","placeholder","","required","",1,"focus:border-primary-500","focus:ring-primary-500","dark:focus:border-primary-500","dark:focus:ring-primary-500","block","w-full","rounded-lg","border","border-gray-300","bg-gray-50","p-2","text-xs","text-gray-900","dark:border-gray-600","dark:bg-gray-700","dark:text-white","dark:placeholder-gray-400",3,"ngModelChange","ngModel"],["type","number","name","revised-interest","placeholder","","required","",1,"focus:border-primary-500","focus:ring-primary-500","dark:focus:border-primary-500","dark:focus:ring-primary-500","block","w-full","rounded-lg","border","border-gray-300","bg-gray-50","p-2","text-xs","text-gray-900","dark:border-gray-600","dark:bg-gray-700","dark:text-white","dark:placeholder-gray-400",3,"ngModelChange","ngModel"],["name","revised-adjustment-type",1,"focus:border-primary-500","focus:ring-primary-500","dark:focus:border-primary-500","dark:focus:ring-primary-500","block","w-full","rounded-lg","border","border-gray-300","bg-gray-50","p-2","text-xs","text-gray-900","dark:border-gray-600","dark:bg-gray-700","dark:text-white","dark:placeholder-gray-400",3,"ngModelChange","ngModel"],["type","number","disabled","",1,"focus:border-primary-500","focus:ring-primary-500","dark:focus:border-primary-500","dark:focus:ring-primary-500","block","w-full","rounded-lg","border","border-gray-300","bg-gray-50","p-2","text-xs","text-gray-900","dark:border-gray-600","dark:bg-gray-700","dark:text-white","dark:placeholder-gray-400",3,"value","name"],["disabled","",1,"focus:border-primary-500","focus:ring-primary-500","dark:focus:border-primary-500","dark:focus:ring-primary-500","block","w-full","rounded-lg","border","border-gray-300","bg-gray-50","p-2","text-xs","text-gray-900","dark:border-gray-600","dark:bg-gray-700","dark:text-white","dark:placeholder-gray-400",3,"name"],[3,"value","selected"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 12h14"],[1,"mt-10","text-center","text-xl","font-bold","leading-none","tracking-tight","text-gray-900","dark:text-white"],[1,"rounded","bg-blue-600","px-2","py-1","text-2xl","font-extrabold","text-white","dark:bg-blue-500"],[1,"mt-6","w-full","rounded-lg","bg-white","p-4","shadow","md:p-6","dark:bg-gray-800"],[1,"relative","mt-6"],[1,"absolute","-top-5","left-0","flex","h-full","w-full","flex-col","items-center","justify-center"],[1,"text-2xl","font-bold","text-black","dark:text-white"],[1,"relative","h-80","w-full"],["baseChart","",3,"type","data","options"],[1,"mt-4","w-full","rounded-lg","bg-white","p-4","px-2","shadow","md:p-6","dark:bg-gray-800"],[1,"relative","w-full","bg-white","dark:bg-gray-800",3,"ngClass"],["baseChart","",3,"type","data","options","plugins"],[1,"absolute",3,"ngClass"],["type","button",1,"rounded-lg","p-2","text-gray-500","hover:bg-gray-100","hover:text-gray-900","dark:text-gray-400","dark:hover:bg-gray-700","dark:hover:text-white",3,"click"],[1,"mt-6","pb-4","sm:pb-0"],[1,"relative","overflow-x-auto","rounded-lg"],[1,"w-full","text-left","text-sm","text-gray-500","rtl:text-right","dark:text-gray-400"],[1,"bg-gray-50","text-xs","uppercase","text-gray-700","dark:bg-gray-700","dark:text-gray-400"],["scope","col",1,"p-2","py-3","text-center","sm:p-4"],[1,"border-b","bg-white","dark:border-gray-700","dark:bg-gray-800"],[1,"mt-2","flex","flex-col","items-center"],[1,"text-sm","text-gray-700","dark:text-gray-400"],[1,"font-semibold","text-gray-900","dark:text-white"],[1,"xs:mt-0","mt-2","inline-flex"],[1,"inline-flex","h-8","items-center","justify-center","rounded-s","bg-gray-800","px-3","text-sm","font-medium","text-white","hover:bg-gray-900","disabled:pointer-events-none","dark:border-gray-700","dark:bg-gray-800","dark:text-gray-400","dark:hover:bg-gray-700","dark:hover:text-white",3,"click","disabled"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 14 10",1,"me-2","h-3.5","w-3.5","rtl:rotate-180"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13 5H1m0 0 4 4M1 5l4-4"],[1,"flex","h-8","items-center","justify-center","rounded-e","border-0","border-s","border-gray-700","bg-gray-800","px-3","text-sm","font-medium","text-white","hover:bg-gray-900","disabled:pointer-events-none","dark:border-gray-700","dark:bg-gray-800","dark:text-gray-400","dark:hover:bg-gray-700","dark:hover:text-white",3,"click","disabled"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 14 10",1,"ms-2","h-3.5","w-3.5","rtl:rotate-180"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M1 5h12m0 0L9 1m4 4L9 9"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","width","24","height","24","fill","none","viewBox","0 0 24 24",1,"h-6","w-6"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 9h4m0 0V5m0 4L4 4m15 5h-4m0 0V5m0 4 5-5M5 15h4m0 0v4m0-4-5 5m15-5h-4m0 0v4m0-4 5 5"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 4H4m0 0v4m0-4 5 5m7-5h4m0 0v4m0-4-5 5M8 20H4m0 0v-4m0 4 5-5m7 5h4m0 0v-4m0 4-5-5"],[1,"p-2","text-center","sm:p-4"],[1,"whitespace-nowrap","p-2","text-center","sm:p-4"],["data-tooltip-target","tooltip-pre-emi-payment","data-tooltip-placement","bottom",1,"cursor-help","underline","decoration-yellow-400","decoration-dotted"],["id","tooltip-pre-emi-payment","role","tooltip",1,"tooltip","invisible","absolute","z-50","inline-block","max-w-sm","rounded-lg","bg-yellow-400","px-3","py-2","text-sm","font-medium","text-white","opacity-0","shadow-sm","transition-opacity","duration-300","dark:bg-yellow-500"],["data-popper-arrow","",1,"tooltip-arrow"],[1,"mt-6","w-full","rounded-lg","bg-white","p-4","px-2","shadow","md:p-6","dark:bg-gray-800"]],template:function(e,t){if(e&1){let n=z();a(0,"div",6)(1,"h2",7),r(2," Loan EMI Calculator "),i(),a(3,"form",8),h("ngSubmit",function(){return c(n),p(t.calculateAmortization())}),a(4,"section",9)(5,"main")(6,"div",10)(7,"label",11),r(8,"Interest Rate Type"),i(),a(9,"div",12)(10,"div",13)(11,"input",14),R("ngModelChange",function(s){return c(n),I(t.interestRateType,s)||(t.interestRateType=s),p(s)}),h("change",function(){return c(n),p(t.calculateAmortization())}),i(),a(12,"label",15),r(13,"Floating"),i()(),a(14,"div",16)(15,"input",17),R("ngModelChange",function(s){return c(n),I(t.interestRateType,s)||(t.interestRateType=s),p(s)}),h("change",function(){return c(n),p(t.calculateAmortization())}),i(),a(16,"label",18),r(17,"Fixed"),i()()()(),a(18,"div",19)(19,"label",20),r(20,"Principal Amount"),i(),a(21,"input",21),R("ngModelChange",function(s){return c(n),I(t.principalAmount,s)||(t.principalAmount=s),p(s)}),h("change",function(){return c(n),p(t.calculateAmortization())}),i()(),a(22,"div",19)(23,"label",22),r(24,"Annual Interest Rate"),i(),a(25,"input",23),R("ngModelChange",function(s){return c(n),I(t.annualInterestRate,s)||(t.annualInterestRate=s),p(s)}),h("change",function(){return c(n),p(t.calculateAmortization())}),i()(),a(26,"div",19)(27,"label",24),r(28,"Loan Term (years)"),i(),a(29,"input",25),R("ngModelChange",function(s){return c(n),I(t.loanTermYears,s)||(t.loanTermYears=s),p(s)}),h("change",function(){return c(n),p(t.calculateAmortization())}),i()(),a(30,"div",19)(31,"label",26),r(32,"Loan Start Date"),i(),a(33,"div",27)(34,"div",28),b(),a(35,"svg",29),y(36,"path",30),i()(),O(),a(37,"input",31,0),v(39,"date"),h("ngModelChange",function(s){return c(n),p(t.onLoanStartDateChange(s))}),i()()(),a(40,"div")(41,"label",32),r(42,"EMI Due Day"),i(),a(43,"input",33),R("ngModelChange",function(s){return c(n),I(t.emiDebitDay,s)||(t.emiDebitDay=s),p(s)}),h("change",function(){return c(n),p(t.calculateAmortization())}),i()()(),a(44,"aside",34),w(45,Ke,34,6,"section",19),a(46,"section")(47,"h2",35),r(48," Prepayments "),i(),a(49,"div",36)(50,"div",37)(51,"h2",38),r(52," Month "),i()(),a(53,"div",37)(54,"h2",38),r(55," Amount "),i()(),a(56,"div",37)(57,"h2",38),r(58," Adjust "),i()(),a(59,"div",37)(60,"h2",38),r(61," Add/Remove "),i()(),w(62,tt,2,0)(63,at,2,0,"div",39),a(64,"div",37)(65,"input",40),R("ngModelChange",function(s){return c(n),I(t.prepaymentMonth,s)||(t.prepaymentMonth=s),p(s)}),i()(),a(66,"div",37)(67,"input",41),R("ngModelChange",function(s){return c(n),I(t.prepaymentAmount,s)||(t.prepaymentAmount=s),p(s)}),i()(),a(68,"div",37)(69,"select",42),h("ngModelChange",function(s){return c(n),p(t.onPrepaymentAdjustmentTypeChange(s))}),a(70,"option",43),r(71,"Tenure"),i(),a(72,"option",43),r(73,"EMI"),i()()(),a(74,"div",37)(75,"button",44),h("click",function(){return c(n),p(t.addPrepayment())}),b(),a(76,"svg",45),y(77,"path",46),i(),O(),a(78,"span",47),r(79,"Add"),i()()()()()()(),a(80,"div",48)(81,"button",49),r(82," Calculate "),i()()(),w(83,it,18,11),a(84,"div",50)(85,"div",51)(86,"label",52),r(87,"View"),i(),a(88,"select",53),h("ngModelChange",function(s){return c(n),p(t.onTabChange(s))}),a(89,"option",43),r(90," Amortization Schedule "),i(),a(91,"option",43),r(92," Financial Year Summary "),i(),w(93,nt,2,1,"option",43),i()(),a(94,"ul",54)(95,"li",55),h("click",function(){return c(n),p(t.activeTab=t.Tabs.AMORTIZATION_SCHEDULE)}),a(96,"p",56),r(97," Amortization Schedule "),i()(),a(98,"li",55),h("click",function(){return c(n),p(t.activeTab=t.Tabs.FINANCIAL_YEAR_SUMMARY)}),a(99,"p",57),r(100," Financial Year Summary "),i()(),w(101,rt,3,2,"li",58),i()(),w(102,ct,50,15)(103,ut,37,5,"section",59)(104,_t,2,1,"section",60),i()}e&2&&(m(11),P("ngModel",t.interestRateType),u("value",t.InterestRateType.FLOATING),m(4),P("ngModel",t.interestRateType),u("value",t.InterestRateType.FIXED),m(6),P("ngModel",t.principalAmount),m(4),P("ngModel",t.annualInterestRate),m(4),P("ngModel",t.loanTermYears),m(8),u("ngModel",E(39,29,t.loanStartDate,"dd/MM/yyyy")),m(6),P("ngModel",t.emiDebitDay),m(2),x(t.interestRateType===t.InterestRateType.FLOATING?45:-1),m(17),x(t.prepayments.length>0?62:63),m(3),P("ngModel",t.prepaymentMonth),m(2),P("ngModel",t.prepaymentAmount),m(2),u("ngModel",t.prepaymentAdjustmentType),m(),u("value",t.RevisionAdjustmentType.TENURE),m(2),u("value",t.RevisionAdjustmentType.EMI),m(11),x(t.monthlyPayment?83:-1),m(5),u("ngModel",t.activeTab),m(),u("value",t.Tabs.AMORTIZATION_SCHEDULE),m(2),u("value",t.Tabs.FINANCIAL_YEAR_SUMMARY),m(2),x(t.interestRateType===t.InterestRateType.FLOATING&&t.rateChanges.length>0?93:-1),m(3),Q("active",t.activeTab===t.Tabs.AMORTIZATION_SCHEDULE),m(3),Q("active",t.activeTab===t.Tabs.FINANCIAL_YEAR_SUMMARY),m(2),x(t.interestRateType===t.InterestRateType.FLOATING&&t.rateChanges.length>0?101:-1),m(),x(t.activeTab===t.Tabs.AMORTIZATION_SCHEDULE&&t.amortizationSchedule.length>0?102:-1),m(),x(t.activeTab===t.Tabs.FINANCIAL_YEAR_SUMMARY&&t.financialYearSummaries.length>0?103:-1),m(),x(t.interestRateType===t.InterestRateType.FLOATING&&t.rateChanges.length>0&&t.activeTab===t.Tabs.INTEREST_RATE_REVISIONS?104:-1))},dependencies:[ve,xe,Z,Se,Ne,Pe,Le,De,Ee,Ie,Ae,Re,we,ke,Ve,Me,Te,ee],styles:[".active[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity));--tw-text-opacity: 1;color:rgb(219 39 119 / var(--tw-text-opacity))}.active[_ngcontent-%COMP%]:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity));--tw-text-opacity: 1;color:rgb(236 72 153 / var(--tw-text-opacity))}"],changeDetection:0})};Ye=he([ze(),ye("design:paramtypes",[Document,me,Z])],Ye);export{Ye as LoanEmiCalculatorPage};
