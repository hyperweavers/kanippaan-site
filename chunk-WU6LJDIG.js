import{a as H,b as Q}from"./chunk-7CFFTE2C.js";import{a as U}from"./chunk-ZA67C5BJ.js";import{a as z,b as K,c as Y,d as X,e as $,f as ee,g as te,m as re,n as ie,o as ae,p as m}from"./chunk-O6C4APJN.js";import{m as _}from"./chunk-WDWB23UY.js";import{a as Z}from"./chunk-G44NL6CR.js";import{$b as O,Ab as c,Cb as p,Gb as k,Ja as n,K as T,Ka as P,Sa as J,Xa as V,Y as E,_b as h,a as C,ca as D,cb as A,eb as I,hb as e,ib as t,jb as y,l as S,lb as s,m as G,mb as j,na as W,oa as B,pb as N,qb as q,rb as R,s as M,sb as a,tb as F,ub as u,vb as f,wb as w,xb as b,yb as L}from"./chunk-OVYIXNY7.js";var x=(()=>{class g{http;goldRate$;constructor(i){this.http=i,this.goldRate$=this.http.post(Z.api.GOLD_PRICE,{query:'query{allDailyMetalPrices(condition:{isActive:true,displayName:"Gold 22K"}){nodes{displayPrice updatedAt}}}'}).pipe(M(r=>r?.data?.allDailyMetalPrices?.nodes[0]?.displayPrice||0),T())}static \u0275fac=function(r){return new(r||g)(D(U))};static \u0275prov=E({token:g,factory:g.\u0275fac,providedIn:"root"})}return g})();function de(g,d){if(g&1&&(e(0,"div",21)(1,"div",22)(2,"p",23),a(3," Gold Price "),t(),e(4,"p",24),a(5),c(6,"number"),t(),e(7,"p",23),a(8," Wastage/Value Addition (W/VA) "),t(),e(9,"p",24),a(10),c(11,"number"),t(),e(12,"p",23),a(13," Making Charge (MC) "),t(),e(14,"p",24),a(15),c(16,"number"),t(),e(17,"p",23),a(18," Tax "),t(),e(19,"p",24),a(20),c(21,"number"),t()(),e(22,"h3",25),a(23," Total = "),e(24,"mark",26),a(25),c(26,"number"),t()(),e(27,"section",27)(28,"h2",28),a(29," Jewel Price Breakdown "),t(),e(30,"div",29)(31,"div",30)(32,"div",31),a(33),c(34,"number"),t(),e(35,"div"),a(36,"Total"),t()(),e(37,"div",32),y(38,"canvas",33),t()()()()),g&2){let i=j();n(5),u(" ",p(6,9,i.goldPrice,"1.0-0")," "),n(5),u(" ",p(11,12,i.wastageValue,"1.0-0")," "),n(5),u(" ",p(16,15,i.makingCharge,"1.0-0")," "),n(5),u(" ",p(21,18,i.tax,"1.0-0")," "),n(5),F(p(26,21,i.totalAmountPayable,"1.0-0")),n(8),u(" ",p(34,24,i.totalAmountPayable,"1.0-0")," "),n(5),A("type",i.ChartType.DOUGHNUT)("data",i.priceBreakdownChartData)("options",i.priceBreakdownChartOptions)}}var le=class v{decimalPipe;chart;GSTPercentage=3;ChartType=ae;goldWeight=1;wastagePercentage=8;makingCharge=0;goldPricePerGram=0;goldPrice=0;wastageValue=0;tax=0;totalAmountPayable=0;priceBreakdownChartData={labels:["Gold","W/VA","MC","Tax"],datasets:[C(C({},m.defaultDoughnutChartDataset),m.getDoughnutChartColors([m.colorGreen,m.colorYellow,m.colorPurple,m.colorBlue]))]};priceBreakdownChartOptions=m.getDoughnutChartOptions(d=>this.decimalPipe.transform(d.parsed,"1.0-0")||"");constructor(d,i,r){this.decimalPipe=d,i.goldRate$.pipe(Q(this)).subscribe(o=>{this.goldPricePerGram=o,this.calculateTotalPrice(),r.markForCheck()})}ngOnInit(){this.calculateTotalPrice()}calculateTotalPrice(){this.goldPrice=this.goldWeight*this.goldPricePerGram,this.wastageValue=this.goldWeight*(this.wastagePercentage/100)*this.goldPricePerGram;let d=this.goldPrice+this.wastageValue+this.makingCharge;this.tax=d*this.GSTPercentage/100,this.totalAmountPayable=d+this.tax,this.priceBreakdownChartData.datasets[0].data=[this.goldPrice,this.wastageValue,this.makingCharge,this.tax],this.chart&&this.chart.update()}static \u0275fac=function(i){return new(i||v)(P(h),P(x),P(k))};static \u0275cmp=J({type:v,selectors:[["app-gold-jewellery-price-calculator"]],viewQuery:function(i,r){if(i&1&&N(_,5),i&2){let o;q(o=R())&&(r.chart=o.first)}},features:[L([x,h])],decls:36,vars:5,consts:[[1,"p-4","text-gray-500","dark:text-gray-400"],[1,"m-4","mt-0","text-center","text-2xl","font-semibold","text-gray-900","sm:mb-10","sm:mt-4","dark:text-white"],[1,"mt-4",3,"ngSubmit"],[1,"grid","grid-cols-1","md:grid-cols-2","md:gap-10"],[1,"mb-6"],["for","gold-weight",1,"mb-2","block","text-sm","font-medium","text-gray-900","dark:text-white"],["type","number","id","gold-weight","name","gold-weight","placeholder","","required","",1,"focus:border-primary-500","focus:ring-primary-500","dark:focus:border-primary-500","dark:focus:ring-primary-500","block","w-full","rounded-lg","border","border-gray-300","bg-gray-50","p-2.5","text-sm","text-gray-900","dark:border-gray-600","dark:bg-gray-700","dark:text-white","dark:placeholder-gray-400",3,"ngModelChange","change","ngModel"],["for","wastage",1,"mb-2","block","text-sm","font-medium","text-gray-900","dark:text-white"],["type","number","id","wastage","name","wastage","placeholder","","required","",1,"focus:border-primary-500","focus:ring-primary-500","dark:focus:border-primary-500","dark:focus:ring-primary-500","block","w-full","rounded-lg","border","border-gray-300","bg-gray-50","p-2.5","text-sm","text-gray-900","dark:border-gray-600","dark:bg-gray-700","dark:text-white","dark:placeholder-gray-400",3,"ngModelChange","change","ngModel"],["for","making-charge",1,"mb-2","block","text-sm","font-medium","text-gray-900","dark:text-white"],["type","number","id","making-charge","name","making-charge","placeholder","","required","",1,"focus:border-primary-500","focus:ring-primary-500","dark:focus:border-primary-500","dark:focus:ring-primary-500","block","w-full","rounded-lg","border","border-gray-300","bg-gray-50","p-2.5","text-sm","text-gray-900","dark:border-gray-600","dark:bg-gray-700","dark:text-white","dark:placeholder-gray-400",3,"ngModelChange","change","ngModel"],[1,"mb-2","flex","items-center"],["for","gold-price-per-gram",1,"block","text-sm","font-medium","text-gray-900","dark:text-white"],["data-tooltip-target","tooltip-info",1,"cursor-pointer","ps-1"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","width","24","height","24","fill","currentColor","viewBox","0 0 24 24",1,"h-4","w-4","text-gray-800","dark:text-white"],["fill-rule","evenodd","d","M2 12C2 6.477 6.477 2 12 2s10 4.477 10 10-4.477 10-10 10S2 17.523 2 12Zm9.408-5.5a1 1 0 1 0 0 2h.01a1 1 0 1 0 0-2h-.01ZM10 10a1 1 0 1 0 0 2h1v3h-1a1 1 0 1 0 0 2h4a1 1 0 1 0 0-2h-1v-4a1 1 0 0 0-1-1h-2Z","clip-rule","evenodd"],["id","tooltip-info","role","tooltip",1,"tooltip","invisible","absolute","z-50","inline-block","rounded-lg","bg-yellow-400","px-3","py-2","text-sm","font-medium","text-white","opacity-0","shadow-sm","transition-opacity","duration-300","dark:bg-yellow-500"],["data-popper-arrow","",1,"tooltip-arrow"],["type","number","id","gold-price-per-gram","name","gold-price-per-gram","placeholder","","required","",1,"focus:border-primary-500","focus:ring-primary-500","dark:focus:border-primary-500","dark:focus:ring-primary-500","block","w-full","rounded-lg","border","border-gray-300","bg-gray-50","p-2.5","text-sm","text-gray-900","dark:border-gray-600","dark:bg-gray-700","dark:text-white","dark:placeholder-gray-400",3,"ngModelChange","change","ngModel"],[1,"flex","w-full","justify-center"],["type","submit",1,"bg-primary-700","hover:bg-primary-800","focus:ring-primary-300","dark:bg-primary-600","dark:hover:bg-primary-700","dark:focus:ring-primary-800","w-full","rounded-lg","px-5","py-2.5","text-center","text-sm","font-medium","text-white","focus:outline-none","focus:ring-4","sm:w-auto"],[1,"mt-6"],[1,"grid","grid-cols-3","items-center","gap-x-10","gap-y-2"],[1,"col-span-2","leading-none","tracking-tight","text-gray-800","dark:text-gray-300"],[1,"text-right","font-bold","text-black","dark:text-white"],[1,"mt-6","text-center","text-xl","font-bold","leading-none","tracking-tight","text-gray-900","dark:text-white"],[1,"rounded","bg-blue-600","px-2","py-1","text-2xl","font-extrabold","text-white","dark:bg-blue-500"],[1,"mt-6","w-full","rounded-lg","bg-white","p-4","shadow","md:p-6","dark:bg-gray-800"],[1,"mb-4","block","text-center","text-sm","font-medium","text-gray-900","dark:text-white"],[1,"relative","mt-10"],[1,"absolute","-top-5","left-0","flex","h-full","w-full","flex-col","items-center","justify-center"],[1,"text-2xl","font-bold","text-black","dark:text-white"],[1,"relative","h-80","w-full"],["baseChart","",3,"type","data","options"]],template:function(i,r){i&1&&(e(0,"div",0)(1,"h2",1),a(2," Gold Jewellery Price Calculator "),t(),e(3,"form",2),s("ngSubmit",function(){return r.calculateTotalPrice()}),e(4,"section",3)(5,"main")(6,"div",4)(7,"label",5),a(8,"Gold Weight (grams)"),t(),e(9,"input",6),b("ngModelChange",function(l){return w(r.goldWeight,l)||(r.goldWeight=l),l}),s("change",function(){return r.calculateTotalPrice()}),t()(),e(10,"div",4)(11,"label",7),a(12,"Wastage/Value Addition (%)"),t(),e(13,"input",8),b("ngModelChange",function(l){return w(r.wastagePercentage,l)||(r.wastagePercentage=l),l}),s("change",function(){return r.calculateTotalPrice()}),t()(),e(14,"div",4)(15,"label",9),a(16,"Making Charge (\u20B9)"),t(),e(17,"input",10),b("ngModelChange",function(l){return w(r.makingCharge,l)||(r.makingCharge=l),l}),s("change",function(){return r.calculateTotalPrice()}),t()(),e(18,"div",4)(19,"div",11)(20,"label",12),a(21,"Gold Price (1 gram) "),t(),e(22,"span",13),W(),e(23,"svg",14),y(24,"path",15),t()(),B(),e(25,"div",16),a(26," Auto-populated with today's online gold price."),y(27,"br"),a(28,"Please confirm with the seller. "),y(29,"div",17),t()(),e(30,"input",18),b("ngModelChange",function(l){return w(r.goldPricePerGram,l)||(r.goldPricePerGram=l),l}),s("change",function(){return r.calculateTotalPrice()}),t()(),e(31,"div",19)(32,"button",20),a(33," Calculate "),t()()(),e(34,"aside"),V(35,de,39,27,"div",21),t()()()()),i&2&&(n(9),f("ngModel",r.goldWeight),n(4),f("ngModel",r.wastagePercentage),n(4),f("ngModel",r.makingCharge),n(13),f("ngModel",r.goldPricePerGram),n(5),I(r.totalAmountPayable>0?35:-1))},dependencies:[O,h,ie,ee,z,te,K,Y,re,$,X,_],encapsulation:2,changeDetection:0})};le=S([H(),G("design:paramtypes",[h,x,k])],le);export{le as GoldJewelleryPriceCalculatorPage};
