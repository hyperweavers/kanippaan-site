import{a as O,b as U}from"./chunk-7CFFTE2C.js";import{a as F}from"./chunk-ZA67C5BJ.js";import{a as z,b as K,c as Y,d as X,e as $,f as ee,g as te,m as re,n as ie,o as ae,p as c}from"./chunk-PHGIGVAO.js";import{m as E}from"./chunk-WDWB23UY.js";import{a as Q}from"./chunk-WCLXRQRY.js";import{$b as R,Ab as s,Cb as p,Gb as v,Ja as n,K as J,Ka as k,Sa as I,Xa as _,Y as V,_b as y,a as S,ca as A,cb as M,eb as G,hb as e,ib as t,jb as m,l as D,lb as u,m as B,mb as L,na as f,oa as w,pb as j,qb as H,rb as N,s as W,sb as i,tb as Z,ub as h,vb as x,wb as b,xb as C,yb as q}from"./chunk-OVYIXNY7.js";var P=(()=>{class g{http;goldRate$;constructor(a){this.http=a,this.goldRate$=this.http.post(Q.api.GOLD_PRICE,{query:'query{allDailyMetalPrices(condition:{isActive:true,displayName:"Gold 22K"}){nodes{displayPrice updatedAt}}}'}).pipe(W(r=>r?.data?.allDailyMetalPrices?.nodes[0]?.displayPrice||0),J())}static \u0275fac=function(r){return new(r||g)(A(F))};static \u0275prov=V({token:g,factory:g.\u0275fac,providedIn:"root"})}return g})();function de(g,d){g&1&&(e(0,"div",29),f(),e(1,"svg",33),m(2,"path",34)(3,"path",35),t(),w(),e(4,"span",5),i(5,"Loading..."),t()())}function ge(g,d){if(g&1&&(e(0,"div",32)(1,"div",36)(2,"p",37),i(3," Gold Price "),t(),e(4,"p",38),i(5),s(6,"number"),t(),e(7,"p",37),i(8," Wastage/Value Addition (W/VA) "),t(),e(9,"p",38),i(10),s(11,"number"),t(),e(12,"p",37),i(13," Making Charge (MC) "),t(),e(14,"p",38),i(15),s(16,"number"),t(),e(17,"p",37),i(18," Tax "),t(),e(19,"p",38),i(20),s(21,"number"),t()(),e(22,"h3",39),i(23," Total = "),e(24,"mark",40),i(25),s(26,"number"),t()(),e(27,"section",41)(28,"h2",42),i(29," Jewel Price Breakdown "),t(),e(30,"div",43)(31,"div",44)(32,"div",45),i(33),s(34,"number"),t(),e(35,"div"),i(36,"Total"),t()(),e(37,"div",46),m(38,"canvas",47),t()()()()),g&2){let a=L();n(5),h(" ",p(6,9,a.goldPrice,"1.0-0")," "),n(5),h(" ",p(11,12,a.wastageValue,"1.0-0")," "),n(5),h(" ",p(16,15,a.makingCharge,"1.0-0")," "),n(5),h(" ",p(21,18,a.tax,"1.0-0")," "),n(5),Z(p(26,21,a.totalAmountPayable,"1.0-0")),n(8),h(" ",p(34,24,a.totalAmountPayable,"1.0-0")," "),n(5),M("type",a.ChartType.DOUGHNUT)("data",a.priceBreakdownChartData)("options",a.priceBreakdownChartOptions)}}var le=class T{decimalPipe;chart;GSTPercentage=3;ChartType=ae;goldWeight=1;wastagePercentage=8;makingCharge=0;goldPricePerGram=0;goldPrice=0;wastageValue=0;tax=0;totalAmountPayable=0;showPriceLoading=!0;priceBreakdownChartData={labels:["Gold","W/VA","MC","Tax"],datasets:[S(S({},c.defaultDoughnutChartDataset),c.getDoughnutChartColors([c.colorGreen,c.colorYellow,c.colorPurple,c.colorBlue]))]};priceBreakdownChartOptions=c.getDoughnutChartOptions(d=>this.decimalPipe.transform(d.parsed,"1.0-0")||"");constructor(d,a,r){this.decimalPipe=d,a.goldRate$.pipe(U(this)).subscribe(o=>{this.goldPricePerGram=o,this.calculateTotalPrice(),this.showPriceLoading=!1,r.markForCheck()})}ngOnInit(){this.calculateTotalPrice()}calculateTotalPrice(){this.goldPrice=this.goldWeight*this.goldPricePerGram,this.wastageValue=this.goldWeight*(this.wastagePercentage/100)*this.goldPricePerGram;let d=this.goldPrice+this.wastageValue+this.makingCharge;this.tax=d*this.GSTPercentage/100,this.totalAmountPayable=d+this.tax,this.priceBreakdownChartData.datasets[0].data=[this.goldPrice,this.wastageValue,this.makingCharge,this.tax],this.chart&&this.chart.update()}static \u0275fac=function(a){return new(a||T)(k(y),k(P),k(v))};static \u0275cmp=I({type:T,selectors:[["app-gold-jewellery-price-calculator"]],viewQuery:function(a,r){if(a&1&&j(E,5),a&2){let o;H(o=N())&&(r.chart=o.first)}},features:[q([P,y])],decls:53,vars:7,consts:[[1,"p-4","text-gray-500","dark:text-gray-400"],[1,"m-4","mt-0","text-center","text-2xl","font-semibold","text-gray-900","sm:mb-10","sm:mt-4","dark:text-white"],["id","alert-5","role","alert",1,"flex","items-center","rounded-lg","bg-gray-50","p-4","dark:bg-gray-800"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 20 20",1,"h-4","w-4","flex-shrink-0","dark:text-gray-300"],["d","M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"],[1,"sr-only"],[1,"ms-3","text-sm","font-medium","text-gray-800","dark:text-gray-300"],["href","https://t.me/tngoldprice","target","_blank",1,"font-semibold","underline","hover:no-underline"],["type","button","data-dismiss-target","#alert-5","aria-label","Close",1,"-mx-1.5","-my-1.5","ms-auto","inline-flex","h-8","w-8","items-center","justify-center","rounded-lg","bg-gray-50","p-1.5","text-gray-500","hover:bg-gray-200","focus:ring-2","focus:ring-gray-400","dark:bg-gray-800","dark:text-gray-300","dark:hover:bg-gray-700","dark:hover:text-white"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 14 14",1,"h-3","w-3"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"],[1,"mt-4",3,"ngSubmit"],[1,"grid","grid-cols-1","md:grid-cols-2","md:gap-10"],[1,"mb-6"],["for","gold-weight",1,"mb-2","block","text-sm","font-medium","text-gray-900","dark:text-white"],["type","number","id","gold-weight","name","gold-weight","placeholder","","required","",1,"focus:border-primary-500","focus:ring-primary-500","dark:focus:border-primary-500","dark:focus:ring-primary-500","block","w-full","rounded-lg","border","border-gray-300","bg-gray-50","p-2.5","text-sm","text-gray-900","dark:border-gray-600","dark:bg-gray-700","dark:text-white","dark:placeholder-gray-400",3,"ngModelChange","change","ngModel"],["for","wastage",1,"mb-2","block","text-sm","font-medium","text-gray-900","dark:text-white"],["type","number","id","wastage","name","wastage","placeholder","","required","",1,"focus:border-primary-500","focus:ring-primary-500","dark:focus:border-primary-500","dark:focus:ring-primary-500","block","w-full","rounded-lg","border","border-gray-300","bg-gray-50","p-2.5","text-sm","text-gray-900","dark:border-gray-600","dark:bg-gray-700","dark:text-white","dark:placeholder-gray-400",3,"ngModelChange","change","ngModel"],["for","making-charge",1,"mb-2","block","text-sm","font-medium","text-gray-900","dark:text-white"],["type","number","id","making-charge","name","making-charge","placeholder","","required","",1,"focus:border-primary-500","focus:ring-primary-500","dark:focus:border-primary-500","dark:focus:ring-primary-500","block","w-full","rounded-lg","border","border-gray-300","bg-gray-50","p-2.5","text-sm","text-gray-900","dark:border-gray-600","dark:bg-gray-700","dark:text-white","dark:placeholder-gray-400",3,"ngModelChange","change","ngModel"],[1,"mb-2","flex","items-center"],["for","gold-price-per-gram",1,"block","text-sm","font-medium","text-gray-900","dark:text-white"],["data-tooltip-target","tooltip-info",1,"cursor-pointer","ps-1"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","width","24","height","24","fill","currentColor","viewBox","0 0 24 24",1,"h-4","w-4","text-gray-800","dark:text-white"],["fill-rule","evenodd","d","M2 12C2 6.477 6.477 2 12 2s10 4.477 10 10-4.477 10-10 10S2 17.523 2 12Zm9.408-5.5a1 1 0 1 0 0 2h.01a1 1 0 1 0 0-2h-.01ZM10 10a1 1 0 1 0 0 2h1v3h-1a1 1 0 1 0 0 2h4a1 1 0 1 0 0-2h-1v-4a1 1 0 0 0-1-1h-2Z","clip-rule","evenodd"],["id","tooltip-info","role","tooltip",1,"tooltip","invisible","absolute","z-50","inline-block","rounded-lg","bg-yellow-400","px-3","py-2","text-sm","font-medium","text-white","opacity-0","shadow-sm","transition-opacity","duration-300","dark:bg-yellow-500"],["data-popper-arrow","",1,"tooltip-arrow"],[1,"relative"],["type","number","id","gold-price-per-gram","name","gold-price-per-gram","placeholder","","required","",1,"focus:border-primary-500","focus:ring-primary-500","dark:focus:border-primary-500","dark:focus:ring-primary-500","block","w-full","rounded-lg","border","border-gray-300","bg-gray-50","p-2.5","text-sm","text-gray-900","dark:border-gray-600","dark:bg-gray-700","dark:text-white","dark:placeholder-gray-400",3,"ngModelChange","change","ngModel","readonly"],["role","status",1,"absolute","right-3","top-2/4","-translate-y-1/2"],[1,"flex","w-full","justify-center"],["type","submit",1,"bg-primary-700","hover:bg-primary-800","focus:ring-primary-300","dark:bg-primary-600","dark:hover:bg-primary-700","dark:focus:ring-primary-800","w-full","rounded-lg","px-5","py-2.5","text-center","text-sm","font-medium","text-white","focus:outline-none","focus:ring-4","sm:w-auto"],[1,"mt-6"],["aria-hidden","true","viewBox","0 0 100 101","fill","none","xmlns","http://www.w3.org/2000/svg",1,"inline","h-4","w-4","animate-spin","fill-gray-600","text-gray-200","dark:fill-gray-300","dark:text-gray-600"],["d","M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z","fill","currentColor"],["d","M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z","fill","currentFill"],[1,"grid","grid-cols-3","items-center","gap-x-10","gap-y-2"],[1,"col-span-2","leading-none","tracking-tight","text-gray-800","dark:text-gray-300"],[1,"text-right","font-bold","text-black","dark:text-white"],[1,"mt-6","text-center","text-xl","font-bold","leading-none","tracking-tight","text-gray-900","dark:text-white"],[1,"rounded","bg-blue-600","px-2","py-1","text-2xl","font-extrabold","text-white","dark:bg-blue-500"],[1,"mt-6","w-full","rounded-lg","bg-white","p-4","shadow","md:p-6","dark:bg-gray-800"],[1,"mb-4","block","text-center","text-sm","font-medium","text-gray-900","dark:text-white"],[1,"relative","mt-10"],[1,"absolute","-top-5","left-0","flex","h-full","w-full","flex-col","items-center","justify-center"],[1,"text-2xl","font-bold","text-black","dark:text-white"],[1,"relative","h-80","w-full"],["baseChart","",3,"type","data","options"]],template:function(a,r){a&1&&(e(0,"div",0)(1,"h2",1),i(2," Gold Jewellery Price Calculator "),t(),e(3,"div",2),f(),e(4,"svg",3),m(5,"path",4),t(),w(),e(6,"span",5),i(7,"Info"),t(),e(8,"div",6),i(9," Join our "),e(10,"a",7),i(11,"Telegram Channel"),t(),i(12," to get daily gold jewellery price updates and predictions. "),t(),e(13,"button",8)(14,"span",5),i(15,"Dismiss"),t(),f(),e(16,"svg",9),m(17,"path",10),t()()(),w(),e(18,"form",11),u("ngSubmit",function(){return r.calculateTotalPrice()}),e(19,"section",12)(20,"main")(21,"div",13)(22,"label",14),i(23,"Gold Weight (grams)"),t(),e(24,"input",15),C("ngModelChange",function(l){return b(r.goldWeight,l)||(r.goldWeight=l),l}),u("change",function(){return r.calculateTotalPrice()}),t()(),e(25,"div",13)(26,"label",16),i(27,"Wastage/Value Addition (%)"),t(),e(28,"input",17),C("ngModelChange",function(l){return b(r.wastagePercentage,l)||(r.wastagePercentage=l),l}),u("change",function(){return r.calculateTotalPrice()}),t()(),e(29,"div",13)(30,"label",18),i(31,"Making Charge (\u20B9)"),t(),e(32,"input",19),C("ngModelChange",function(l){return b(r.makingCharge,l)||(r.makingCharge=l),l}),u("change",function(){return r.calculateTotalPrice()}),t()(),e(33,"div",13)(34,"div",20)(35,"label",21),i(36,"Gold Price (1 gram) "),t(),e(37,"span",22),f(),e(38,"svg",23),m(39,"path",24),t()(),w(),e(40,"div",25),i(41," Auto-populated with today's online gold price."),m(42,"br"),i(43,"Please confirm with the seller. "),m(44,"div",26),t()(),e(45,"div",27)(46,"input",28),C("ngModelChange",function(l){return b(r.goldPricePerGram,l)||(r.goldPricePerGram=l),l}),u("change",function(){return r.calculateTotalPrice()}),t(),_(47,de,6,0,"div",29),t()(),e(48,"div",30)(49,"button",31),i(50," Calculate "),t()()(),e(51,"aside"),_(52,ge,39,27,"div",32),t()()()()),a&2&&(n(24),x("ngModel",r.goldWeight),n(4),x("ngModel",r.wastagePercentage),n(4),x("ngModel",r.makingCharge),n(14),x("ngModel",r.goldPricePerGram),M("readonly",r.showPriceLoading),n(),G(r.showPriceLoading?47:-1),n(5),G(r.totalAmountPayable>0?52:-1))},dependencies:[R,y,ie,ee,z,te,K,Y,re,$,X,E],encapsulation:2,changeDetection:0})};le=D([O(),B("design:paramtypes",[y,P,v])],le);export{le as GoldJewelleryPriceCalculatorPage};
