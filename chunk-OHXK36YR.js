import{a as Pe}from"./chunk-A7ZA3IGE.js";import{a as Ie,b as Ae,c as Re,d as Le,e as Ve,f as De,g as Ne,h as Fe,i as ze,j as Ye,k as Oe,m as je,n as Be,o as We,q as He,r as de,s as Ge,v as Ue,w as qe,x as Qe,y as ce}from"./chunk-45MPFPVU.js";import{m as J}from"./chunk-TM4EHPXB.js";import{$b as Q,Ab as me,Bb as S,Db as v,E as Ce,Ha as Se,Hb as le,J as xe,Ja as s,Ka as oe,Qb as we,Sa as ve,Xa as w,Xb as ke,_b as Te,a as ne,ac as Me,b as re,cb as u,db as q,eb as C,gb as Z,hb as X,i as ye,ib as a,jb as i,kb as y,l as _e,la as c,lb as D,m as fe,ma as p,mb as h,na as b,nb as g,o as be,oa as z,ob as O,qb as j,rb as B,sb as W,tb as l,ub as M,vb as V,wb as P,xb as I,yb as A,zb as Ee}from"./chunk-XTDXSHQ4.js";var $e=new ye;$e.pipe(Ce(r=>be(r).pipe(xe(100)))).subscribe(r=>{r()});function Ze(){return function(r){let o=r.prototype.ngOnInit;r.prototype.ngOnInit=function(){o&&o.apply(this),tt()}}}function tt(){$e.next(()=>{let r=document.querySelectorAll("*"),o=[],e=Array.from(document.querySelectorAll("[flowbite-initialized]"));for(let t=0;t<r.length;t++){let n=r[t],m=n.attributes;for(let d=0;d<m.length;d++)m[d].name.startsWith("data-")&&!o.includes(n)&&!e.find(k=>k.isEqualNode(n))&&o.push(n)}for(let t=0;t<o.length;t++)o[t].setAttribute("flowbite-initialized","");Pe(),o.forEach(t=>{Array.from(t.attributes).filter(d=>d.name.startsWith("data-")).forEach(d=>{t.setAttribute(d.name.replace("data-","fb-"),d.value),t.removeAttribute(d.name)})})})}var H=function(r){return r[r.FLOATING=0]="FLOATING",r[r.FIXED=1]="FIXED",r}(H||{}),G=function(r){return r[r.TENURE=0]="TENURE",r[r.EMI=1]="EMI",r}(G||{});var at=["loanStartDateInput"],it=["emiChart"],nt=["revisionChart"],rt=["paymentsChart"],ot=["emiChartContainer"],lt=["revisionsChartContainer"],ge=(r,o)=>o.month,st=(r,o)=>o.financialYear,Je=()=>[];function mt(r,o){if(r&1){let e=D();a(0,"div",37),y(1,"input",63),i(),a(2,"div",37),y(3,"input",63),i(),a(4,"div",37)(5,"select",64)(6,"option",65),l(7," Tenure "),i(),a(8,"option",65),l(9," EMI "),i()()(),a(10,"div",37)(11,"button",44),h("click",function(){let n=c(e).$index,m=g(3);return p(m.removeRateChange(n))}),b(),a(12,"svg",45),y(13,"path",66),i(),z(),a(14,"span",47),l(15,"Remove"),i()()()}if(r&2){let e=o.$implicit,t=o.$index,n=g(3);s(),O("name","revised-month-",t,""),u("value",e.month),s(2),O("name","revised-interest-",t,""),u("value",e.newRate),s(2),O("name","revised-adjustment-type-",t,""),s(),u("value",n.RevisionAdjustmentType.TENURE)("selected",e.adjustmentType===n.RevisionAdjustmentType.TENURE),s(2),u("value",n.RevisionAdjustmentType.EMI)("selected",e.adjustmentType===n.RevisionAdjustmentType.EMI)}}function dt(r,o){if(r&1&&Z(0,mt,16,12,null,null,ge),r&2){let e=g(2);X(e.rateChanges)}}function ct(r,o){r&1&&(a(0,"div",39),l(1," To add interest rate revision, click the below + button. "),i())}function pt(r,o){if(r&1){let e=D();a(0,"section",19)(1,"h2",35),l(2," Interest Rate Revisions "),i(),a(3,"div",36)(4,"div",37)(5,"h2",38),l(6," Month "),i()(),a(7,"div",37)(8,"h2",38),l(9," Interest "),i()(),a(10,"div",37)(11,"h2",38),l(12," Adjust "),i()(),a(13,"div",37)(14,"h2",38),l(15," Add/Remove "),i()(),w(16,dt,2,0)(17,ct,2,0,"div",39),a(18,"div",37)(19,"input",60),A("ngModelChange",function(n){c(e);let m=g();return I(m.rateChangeMonth,n)||(m.rateChangeMonth=n),p(n)}),i()(),a(20,"div",37)(21,"input",61),A("ngModelChange",function(n){c(e);let m=g();return I(m.rateChangeNewRate,n)||(m.rateChangeNewRate=n),p(n)}),i()(),a(22,"div",37)(23,"select",62),h("ngModelChange",function(n){c(e);let m=g();return p(m.onRateChangeAdjustmentTypeChange(n))}),a(24,"option",43),l(25,"Tenure"),i(),a(26,"option",43),l(27,"EMI"),i()()(),a(28,"div",37)(29,"button",44),h("click",function(){c(e);let n=g();return p(n.addRateChange())}),b(),a(30,"svg",45),y(31,"path",46),i(),z(),a(32,"span",47),l(33,"Add"),i()()()()()}if(r&2){let e=g();s(16),C(e.rateChanges.length>0?16:17),s(3),P("ngModel",e.rateChangeMonth),s(2),P("ngModel",e.rateChangeNewRate),s(2),u("ngModel",e.rateChangeAdjustmentType),s(),u("value",e.RevisionAdjustmentType.TENURE),s(2),u("value",e.RevisionAdjustmentType.EMI)}}function ut(r,o){if(r&1){let e=D();a(0,"div",37),y(1,"input",63),i(),a(2,"div",37),y(3,"input",63),i(),a(4,"div",37)(5,"select",64)(6,"option",65),l(7," Tenure "),i(),a(8,"option",65),l(9," EMI "),i()()(),a(10,"div",37)(11,"button",44),h("click",function(){let n=c(e).$index,m=g(2);return p(m.removePrepayment(n))}),b(),a(12,"svg",45),y(13,"path",66),i(),z(),a(14,"span",47),l(15,"Remove"),i()()()}if(r&2){let e=o.$implicit,t=o.$index,n=g(2);s(),O("name","prepayment-month-",t,""),u("value",e.month),s(2),O("name","prepayment-amount-",t,""),u("value",e.amount),s(2),O("name","prepayment-adjustment-type-",t,""),s(),u("value",n.RevisionAdjustmentType.TENURE)("selected",e.adjustmentType===n.RevisionAdjustmentType.TENURE),s(2),u("value",n.RevisionAdjustmentType.EMI)("selected",e.adjustmentType===n.RevisionAdjustmentType.EMI)}}function gt(r,o){if(r&1&&Z(0,ut,16,12,null,null,ge),r&2){let e=g();X(e.prepayments)}}function ht(r,o){r&1&&(a(0,"div",39),l(1," To add prepayment, click the below + button. "),i())}function yt(r,o){if(r&1&&(a(0,"h3",67),l(1," Monthly Payment = "),a(2,"mark",68),l(3),S(4,"number"),i()(),a(5,"section",69)(6,"h2",35),l(7," Principal & Interest Breakdown "),i(),a(8,"div",70)(9,"div",71)(10,"div",72),l(11),S(12,"number"),i(),a(13,"div"),l(14,"Total"),i()(),a(15,"div",73),y(16,"canvas",74,1),i()()()),r&2){let e=g();s(3),M(v(4,5,e.monthlyPayment,"1.0-0")),s(8),V(" ",v(12,8,e.totalPayments,"1.0-0")," "),s(5),u("type",e.ChartType.DOUGHNUT)("data",e.paymentsChartData)("options",e.paymentsChartOptions)}}function _t(r,o){if(r&1&&(a(0,"option",43),l(1," Interest Rate Revisions "),i()),r&2){let e=g();u("value",e.Tabs.INTEREST_RATE_REVISIONS)}}function ft(r,o){if(r&1){let e=D();a(0,"li",54),h("click",function(){c(e);let n=g();return p(n.activeTab=n.Tabs.INTEREST_RATE_REVISIONS)}),a(1,"p",56),l(2," Interest Rate Revisions "),i()()}if(r&2){let e=g();s(),q("active",e.activeTab===e.Tabs.INTEREST_RATE_REVISIONS)}}function bt(r,o){r&1&&(a(0,"span",47),l(1,"Minimize"),i(),b(),a(2,"svg",96),y(3,"path",97),i())}function Ct(r,o){r&1&&(a(0,"span",47),l(1,"Expand"),i(),b(),a(2,"svg",96),y(3,"path",98),i())}function xt(r,o){if(r&1&&(a(0,"span",101),l(1),S(2,"number"),i(),a(3,"div",102),l(4," Interest needs to be paid for the period between loan start date and first EMI due date. "),y(5,"div",103),i()),r&2){let e=g().$implicit;s(),M(v(2,1,e.payment,"1.0-0"))}}function St(r,o){if(r&1&&(l(0),S(1,"number")),r&2){let e=g().$implicit;V(" ",v(1,1,e.payment,"1.0-0")," ")}}function vt(r,o){if(r&1&&(a(0,"tr",85)(1,"td",99),l(2),i(),a(3,"td",100),l(4),S(5,"date"),i(),a(6,"td",99),w(7,xt,6,4)(8,St,2,4),i(),a(9,"td",99),l(10),S(11,"number"),i(),a(12,"td",99),l(13),S(14,"number"),i(),a(15,"td",99),l(16),S(17,"number"),i()()),r&2){let e=o.$implicit;s(2),M(e.month),s(2),V(" ",v(5,6,e.paymentDate,"MMM yy")," "),s(3),C(e.month===0?7:8),s(3),V(" ",v(11,9,e.principal,"1.0-0")," "),s(3),V(" ",v(14,12,e.interest,"1.0-0")," "),s(3),V(" ",v(17,15,e.balance,"1.0-0")," ")}}function Et(r,o){if(r&1){let e=D();a(0,"section",75)(1,"div",76,2),y(3,"canvas",77,3),a(5,"div",78)(6,"button",79),h("click",function(){c(e);let n=g();return p(n.toggleFullscreen(n.Charts.EMI))}),w(7,bt,4,0)(8,Ct,4,0),i()()()(),a(9,"section",80)(10,"div",81)(11,"table",82)(12,"thead",83)(13,"tr")(14,"th",84),l(15,"EMI"),i(),a(16,"th",84),l(17,"Month"),i(),a(18,"th",84),l(19,"Payment"),i(),a(20,"th",84),l(21,"Principal"),i(),a(22,"th",84),l(23,"Interest"),i(),a(24,"th",84),l(25,"Balance"),i()()(),a(26,"tbody"),Z(27,vt,18,18,"tr",85,ge),i()()(),a(29,"div",86)(30,"span",87),l(31," Showing "),a(32,"span",88),l(33),i(),l(34," to "),a(35,"span",88),l(36),i(),l(37," of "),a(38,"span",88),l(39),i(),l(40," Entries "),i(),a(41,"div",89)(42,"button",90),h("click",function(){c(e);let n=g();return p(n.amortizationSchedulePage=n.amortizationSchedulePage-1)}),b(),a(43,"svg",91),y(44,"path",92),i(),l(45," Prev "),i(),z(),a(46,"button",93),h("click",function(){c(e);let n=g();return p(n.amortizationSchedulePage=n.amortizationSchedulePage+1)}),l(47," Next "),b(),a(48,"svg",94),y(49,"path",95),i()()()()()}if(r&2){let e=g();s(),u("ngClass",e.isChartInFullscreen?"h-full":"h-96"),s(2),q("m-4",e.isChartInFullscreen),u("type",e.ChartType.LINE)("data",e.emiChartData)("options",e.emiChartOptions)("plugins",e.emiAndRevisionsChartPlugins||me(14,Je)),s(2),u("ngClass",e.isChartInFullscreen?"block bottom-2 right-3":"block sm:hidden -bottom-3 -right-1"),s(2),C(e.isChartInFullscreen?7:8),s(20),X(e.amortizationSchedule.slice(e.amortizationSchedulePage*e.pageSize,e.amortizationSchedulePage*e.pageSize+e.pageSize>e.amortizationSchedule.length?e.amortizationSchedule.length:e.amortizationSchedulePage*e.pageSize+e.pageSize)),s(6),M(e.amortizationSchedulePage*e.pageSize+1),s(3),M(e.amortizationSchedulePage*e.pageSize+e.pageSize>e.amortizationSchedule.length?e.amortizationSchedule.length:e.amortizationSchedulePage*e.pageSize+e.pageSize),s(3),M(e.amortizationSchedule.length),s(3),u("disabled",e.amortizationSchedulePage===0),s(4),u("disabled",e.amortizationSchedulePage*e.pageSize+e.pageSize>=e.amortizationSchedule.length)}}function wt(r,o){if(r&1&&(a(0,"tr",85)(1,"td",99),l(2),i(),a(3,"td",99),l(4),S(5,"number"),i(),a(6,"td",99),l(7),S(8,"number"),i(),a(9,"td",99),l(10),S(11,"number"),i()()),r&2){let e=o.$implicit;s(2),M(e.financialYear),s(2),V(" ",v(5,4,e.totalPrincipal,"1.0-0")," "),s(3),V(" ",v(8,7,e.totalInterest,"1.0-0")," "),s(3),V(" ",v(11,10,e.totalAmountPaid,"1.0-0")," ")}}function kt(r,o){if(r&1){let e=D();a(0,"section",58)(1,"div",81)(2,"table",82)(3,"thead",83)(4,"tr")(5,"th",84),l(6,"Year"),i(),a(7,"th",84),l(8,"Principal"),i(),a(9,"th",84),l(10,"Interest"),i(),a(11,"th",84),l(12,"Total"),i()()(),a(13,"tbody"),Z(14,wt,12,13,"tr",85,st),i()()(),a(16,"div",86)(17,"span",87),l(18," Showing "),a(19,"span",88),l(20),i(),l(21," to "),a(22,"span",88),l(23),i(),l(24," of "),a(25,"span",88),l(26),i(),l(27," Entries "),i(),a(28,"div",89)(29,"button",90),h("click",function(){c(e);let n=g();return p(n.financialYearSummaryPage=n.financialYearSummaryPage-1)}),b(),a(30,"svg",91),y(31,"path",92),i(),l(32," Prev "),i(),z(),a(33,"button",93),h("click",function(){c(e);let n=g();return p(n.financialYearSummaryPage=n.financialYearSummaryPage+1)}),l(34," Next "),b(),a(35,"svg",94),y(36,"path",95),i()()()()()}if(r&2){let e=g();s(14),X(e.financialYearSummaries.slice(e.financialYearSummaryPage*e.pageSize,e.financialYearSummaryPage*e.pageSize+e.pageSize>e.financialYearSummaries.length?e.financialYearSummaries.length:e.financialYearSummaryPage*e.pageSize+e.pageSize)),s(6),M(e.financialYearSummaryPage*e.pageSize+1),s(3),M(e.financialYearSummaryPage*e.pageSize+e.pageSize>e.financialYearSummaries.length?e.financialYearSummaries.length:e.financialYearSummaryPage*e.pageSize+e.pageSize),s(3),M(e.financialYearSummaries.length),s(3),u("disabled",e.financialYearSummaryPage===0),s(4),u("disabled",e.financialYearSummaryPage*e.pageSize+e.pageSize>=e.financialYearSummaries.length)}}function Tt(r,o){r&1&&(a(0,"span",47),l(1,"Minimize"),i(),b(),a(2,"svg",96),y(3,"path",97),i())}function Mt(r,o){r&1&&(a(0,"span",47),l(1,"Expand"),i(),b(),a(2,"svg",96),y(3,"path",98),i())}function Pt(r,o){if(r&1){let e=D();a(0,"div",104)(1,"div",76,4),y(3,"canvas",77,5),a(5,"div",78)(6,"button",79),h("click",function(){c(e);let n=g(2);return p(n.toggleFullscreen(n.Charts.REVISIONS))}),w(7,Tt,4,0)(8,Mt,4,0),i()()()()}if(r&2){let e=g(2);s(),u("ngClass",e.isChartInFullscreen?"h-full":"h-80"),s(2),q("m-4",e.isChartInFullscreen),u("type",e.ChartType.LINE)("data",e.revisionsChartData)("options",e.revisionsChartOptions)("plugins",e.emiAndRevisionsChartPlugins||me(9,Je)),s(2),u("ngClass",e.isChartInFullscreen?"block bottom-2 right-3":"block sm:hidden -bottom-3 -right-1"),s(2),C(e.isChartInFullscreen?7:8)}}function It(r,o){if(r&1&&(a(0,"section",59),w(1,Pt,9,10,"div",104),i()),r&2){let e=g();s(),C(e.interestRateType===e.InterestRateType.FLOATING&&e.rateChanges.length>0?1:-1)}}var pe=function(r){return r[r.AMORTIZATION_SCHEDULE=0]="AMORTIZATION_SCHEDULE",r[r.FINANCIAL_YEAR_SUMMARY=1]="FINANCIAL_YEAR_SUMMARY",r[r.INTEREST_RATE_REVISIONS=2]="INTEREST_RATE_REVISIONS",r}(pe||{}),K=function(r){return r[r.PAYMENTS=0]="PAYMENTS",r[r.EMI=1]="EMI",r[r.REVISIONS=2]="REVISIONS",r}(K||{}),Xe=class ue{document;cdr;decimalPipe;loanStartDateInput;emiChart;revisionChart;paymentsChart;emiChartContainer;revisionsChartContainer;pageSize=12;ChartType=We;InterestRateType=H;RevisionAdjustmentType=G;Tabs=pe;Charts=K;principalAmount=25e5;annualInterestRate=9;loanTermYears=30;interestRateType=H.FLOATING;loanStartDate=new Date;emiDebitDay=5;financialYearStartMonth=4;monthlyPayment=0;amortizationSchedule=[];rateChanges=[];prepayments=[];financialYearSummaries=[];totalPrincipalPaid=0;totalInterestPaid=0;totalPayments=0;rateChangeMonth=1;rateChangeNewRate=0;rateChangeAdjustmentType=G.TENURE;prepaymentMonth=1;prepaymentAmount=0;prepaymentAdjustmentType=G.TENURE;activeTab=pe.AMORTIZATION_SCHEDULE;amortizationSchedulePage=0;financialYearSummaryPage=0;isChartInFullscreen=!1;paymentsChartData={labels:["Principal","Interest"],datasets:He};paymentsChartOptions=Qe(o=>this.decimalPipe.transform(o.parsed,"1.0-0")||"");emiChartData={labels:[],datasets:[re(ne({},de),{label:"Principal"}),re(ne({},Ge),{label:"Interest"})]};emiChartOptions=ce("EMI","Amount",!1,o=>{let e=o.dataset.label||"",t=o.parsed.y;return e&&t?`${e}: ${this.decimalPipe.transform(t,"1.0-0")||""}`:""},o=>o[0]?.label?`EMI: ${o[0].label}`:"");revisionsChartData={labels:[],datasets:[re(ne({},de),{label:"Interest Rate"})]};revisionsChartOptions=ce("EMI","Interest Rate",!1,o=>{let e=o.dataset.label||"",t=o.parsed.y;return e&&t?`${e}: ${this.decimalPipe.transform(t,"1.2-2")||""}%`:""},o=>o[0]?.label?`EMI: ${o[0].label}`:"");emiAndRevisionsChartPlugins=[Ue,qe];datepicker;constructor(o,e,t){this.document=o,this.cdr=e,this.decimalPipe=t}ngOnInit(){this.initDatePicker(),this.calculateAmortization()}onFullscreenChange(){this.document.fullscreenElement?this.isChartInFullscreen=!0:this.isChartInFullscreen=!1}onLoanStartDateChange(o){this.loanStartDate=new Date(o),this.calculateAmortization()}onRateChangeAdjustmentTypeChange(o){this.rateChangeAdjustmentType=Number(o)}onPrepaymentAdjustmentTypeChange(o){this.prepaymentAdjustmentType=Number(o)}onTabChange(o){this.activeTab=Number(o)}addRateChange(){this.rateChanges.push({month:this.rateChangeMonth,newRate:this.rateChangeNewRate,adjustmentType:this.rateChangeAdjustmentType}),this.rateChanges.sort((o,e)=>o.month-e.month),this.rateChangeMonth++,this.calculateAmortization()}removeRateChange(o){this.rateChanges.splice(o,1),this.calculateAmortization()}addPrepayment(){this.prepayments.push({month:this.prepaymentMonth,amount:this.prepaymentAmount,adjustmentType:this.prepaymentAdjustmentType}),this.prepayments.sort((o,e)=>o.month-e.month),this.prepaymentMonth++,this.calculateAmortization()}removePrepayment(o){this.prepayments.splice(o,1),this.calculateAmortization()}toggleFullscreen(o){if(this.document.fullscreenElement)this.document.exitFullscreen();else{let e;switch(o){case K.EMI:e=this.emiChartContainer;break;case K.REVISIONS:e=this.revisionsChartContainer;break;case K.PAYMENTS:default:return}e&&e.nativeElement.requestFullscreen().then(()=>{screen.orientation.lock("landscape").catch(t=>{console.error(`An error occurred while trying to lock screen orientation to landscape: ${t.message} (${t.name})`)}),this.cdr.markForCheck()}).catch(t=>{console.error(`An error occurred while trying to switch into fullscreen mode: ${t.message} (${t.name})`)})}}calculateAmortization(){let o=this.principalAmount,e=this.loanTermYears*12,t=o,n=0,m=this.annualInterestRate,d=e;this.amortizationSchedule=[];let E=this.calculateMonthlyPayment(o,m,e);this.monthlyPayment=Math.ceil(E),this.interestRateType===H.FLOATING&&this.rateChanges.sort((L,_)=>L.month-_.month),this.prepayments.sort((L,_)=>L.month-_.month);let k=1,ee=0,te=0;this.financialYearSummaries=[];let f=new Date(this.loanStartDate);f.setDate(this.emiDebitDay),f<this.loanStartDate&&f.setMonth(f.getMonth()+1);let R=new Map,N=0,Ke=1e3*60*60*24,ae=new Date(this.loanStartDate);if(ae.setDate(ae.getDate()+1),f>ae){let L=Math.floor((f.getTime()-ae.getTime())/Ke);if(L>0){let _=m/100/12/30;N=o*_*L,n+=N,this.totalInterestPaid=Math.ceil(N);let x=new Date(f);x.setDate(x.getDate()-1);let T=new Date(x.getFullYear(),this.financialYearStartMonth-1,1);x<T&&T.setFullYear(T.getFullYear()-1);let Y=`${T.getFullYear().toString().slice(-2)}-${(T.getFullYear()+1).toString().slice(-2)}`;R.has(Y)||R.set(Y,{principal:0,interest:0,totalPayment:0});let U=R.get(Y);U.interest+=N,U.totalPayment+=N,this.amortizationSchedule.push({month:0,paymentDate:x,payment:Math.ceil(N),principal:0,interest:Math.ceil(N),totalInterest:Math.ceil(n),balance:Math.ceil(t),interestRate:m})}}for(f.setMonth(f.getMonth()+1),this.totalPrincipalPaid=0,this.totalInterestPaid=Math.ceil(N),this.totalPayments=0;t>0&&k<=d;){if(this.interestRateType===H.FLOATING&&ee<this.rateChanges.length&&k===this.rateChanges[ee].month){let F=this.rateChanges[ee];if(m=F.newRate,F.adjustmentType===G.EMI)E=this.calculateMonthlyPayment(t,m,e-k+1),this.monthlyPayment=Math.ceil(E);else{let ie=this.calculateNewTenure(t,m,E);d=k+ie-1}ee++}if(te<this.prepayments.length&&k===this.prepayments[te].month){let F=this.prepayments[te];t=Math.max(t-F.amount,0),this.totalPrincipalPaid+=F.amount;let ie=new Date(f),$=new Date(ie.getFullYear(),this.financialYearStartMonth-1,1);ie<$&&$.setFullYear($.getFullYear()-1);let se=`${$.getFullYear()}-${($.getFullYear()+1).toString().slice(-2)}`;R.has(se)||R.set(se,{principal:0,interest:0,totalPayment:0});let he=R.get(se);if(he.principal+=F.amount,he.totalPayment+=F.amount,F.adjustmentType===G.EMI)E=this.calculateMonthlyPayment(t,m,e-k+1),this.monthlyPayment=Math.ceil(E);else{let et=this.calculateNewTenure(t,m,E);d=k+et-1}te++}let L=m/100/12,_=t*L,x=E-_;x>t&&(x=t,E=x+_),t=Math.max(t-x,0),n+=_,this.totalPrincipalPaid+=x,this.totalInterestPaid+=_;let T=new Date(f.getFullYear(),this.financialYearStartMonth-1,1);f<T&&T.setFullYear(T.getFullYear()-1);let Y=`${T.getFullYear().toString().slice(-2)}-${(T.getFullYear()+1).toString().slice(-2)}`;R.has(Y)||R.set(Y,{principal:0,interest:0,totalPayment:0});let U=R.get(Y);if(U.principal+=x,U.interest+=_,U.totalPayment+=E,this.amortizationSchedule.push({month:k,paymentDate:new Date(f),payment:Math.ceil(E),principal:Math.ceil(x),interest:Math.ceil(_),totalInterest:Math.ceil(n),balance:Math.ceil(t),interestRate:m}),t===0)break;k++,f.setMonth(f.getMonth()+1)}this.totalPrincipalPaid=Math.ceil(this.totalPrincipalPaid),this.totalInterestPaid=Math.ceil(this.totalInterestPaid),this.totalPayments=Math.ceil(this.totalPrincipalPaid+this.totalInterestPaid),this.financialYearSummaries=Array.from(R.entries()).map(([L,_])=>({financialYear:L,totalPrincipal:Math.ceil(_.principal),totalInterest:Math.ceil(_.interest),totalAmountPaid:Math.ceil(_.totalPayment)})),this.rateChangeNewRate=this.rateChanges[this.rateChanges.length-1]?.newRate||this.annualInterestRate,this.prepaymentAmount=Math.max(this.prepaymentAmount,this.monthlyPayment),this.updatePaymentsChart(),this.updateEmiChart(),this.interestRateType===H.FLOATING&&this.updateRevisionChart()}calculateMonthlyPayment(o,e,t){let n=e/100/12;return o*n/(1-Math.pow(1+n,-t))}calculateNewTenure(o,e,t){let n=e/100/12;return Math.ceil(-Math.log(1-o*n/t)/Math.log(1+n))}updatePaymentsChart(){this.paymentsChartData.datasets[0].data=[Math.ceil(this.totalPrincipalPaid),Math.ceil(this.totalInterestPaid)],this.paymentsChart&&this.paymentsChart.update()}updateEmiChart(){let o=this.amortizationSchedule.map(n=>n.month),e=this.amortizationSchedule.map(n=>n.principal),t=this.amortizationSchedule.map(n=>n.interest);this.emiChartData.labels=o,this.emiChartData.datasets[0].data=e,this.emiChartData.datasets[1].data=t,this.emiChart&&this.emiChart.update()}updateRevisionChart(){let o=this.amortizationSchedule.map(m=>m.month),e=new Array(this.amortizationSchedule.length),t=this.annualInterestRate,n=0;for(let m=0;m<this.amortizationSchedule.length;m++){let d=m+1;n<this.rateChanges.length&&d===this.rateChanges[n].month&&(t=this.rateChanges[n].newRate,n++),e[m]=t}this.revisionsChartData.labels=o,this.revisionsChartData.datasets[0].data=e,this.revisionChart&&this.revisionChart.update()}resetDatepicker(){this.datepicker?.setDate(Date.now(),{clear:!0})}initDatePicker(){this.loanStartDateInput&&(this.datepicker=new Datepicker(this.loanStartDateInput.nativeElement,{autohide:!0,format:"dd/mm/yyyy",todayBtn:!0,clearBtn:!0,todayBtnMode:1,todayHighlight:!0}),this.loanStartDateInput.nativeElement.addEventListener("changeDate",o=>{let e=o.target.value.split("/");this.loanStartDate=new Date(`${e[2]}/${e[1]}/${e[0]}`),this.calculateAmortization()}),this.resetDatepicker())}static \u0275fac=function(e){return new(e||ue)(oe(we),oe(le),oe(Q))};static \u0275cmp=ve({type:ue,selectors:[["app-home"]],viewQuery:function(e,t){if(e&1&&(j(at,7),j(it,5,J),j(nt,5,J),j(rt,5,J),j(ot,5),j(lt,5)),e&2){let n;B(n=W())&&(t.loanStartDateInput=n.first),B(n=W())&&(t.emiChart=n.first),B(n=W())&&(t.revisionChart=n.first),B(n=W())&&(t.paymentsChart=n.first),B(n=W())&&(t.emiChartContainer=n.first),B(n=W())&&(t.revisionsChartContainer=n.first)}},hostBindings:function(e,t){e&1&&h("fullscreenchange",function(){return t.onFullscreenChange()},!1,Se)},features:[Ee([Q])],decls:104,vars:32,consts:[["loanStartDateInput",""],["paymentsChart",""],["emiChartContainer",""],["emiChart",""],["revisionsChartContainer",""],["revisionsChart",""],[1,"p-4","text-gray-500","dark:text-gray-400"],[1,"m-4","mt-0","block","text-center","text-2xl","font-semibold","text-gray-900","sm:mb-10","sm:mt-4","dark:text-white"],[1,"mt-4",3,"ngSubmit"],[1,"mb-6","grid","grid-cols-1","md:grid-cols-2","md:gap-10"],[1,"mb-6","flex"],[1,"block","flex-1","text-sm","font-medium","text-gray-900","dark:text-white"],[1,"flex"],[1,"me-4","flex","items-center"],["id","floating","type","radio","name","interest-rate-type",1,"text-primary-600","focus:ring-primary-500","dark:focus:ring-primary-600","h-4","w-4","border-gray-300","bg-gray-100","focus:ring-2","dark:border-gray-600","dark:bg-gray-700","dark:ring-offset-gray-800",3,"ngModelChange","change","ngModel","value"],["for","floating",1,"ms-2","text-sm","font-medium","text-gray-900","dark:text-gray-300"],[1,"flex","items-center"],["id","fixed","type","radio","name","interest-rate-type",1,"text-primary-600","focus:ring-primary-500","dark:focus:ring-primary-600","h-4","w-4","border-gray-300","bg-gray-100","focus:ring-2","dark:border-gray-600","dark:bg-gray-700","dark:ring-offset-gray-800",3,"ngModelChange","change","ngModel","value"],["for","fixed",1,"ms-2","text-sm","font-medium","text-gray-900","dark:text-gray-300"],[1,"mb-6"],["for","principal",1,"mb-2","block","text-sm","font-medium","text-gray-900","dark:text-white"],["type","number","id","principal","name","principal","placeholder","","required","",1,"focus:border-primary-500","focus:ring-primary-500","dark:focus:border-primary-500","dark:focus:ring-primary-500","block","w-full","rounded-lg","border","border-gray-300","bg-gray-50","p-2.5","text-sm","text-gray-900","dark:border-gray-600","dark:bg-gray-700","dark:text-white","dark:placeholder-gray-400",3,"ngModelChange","change","ngModel"],["for","interest",1,"mb-2","block","text-sm","font-medium","text-gray-900","dark:text-white"],["type","number","id","interest","name","interest","placeholder","","required","",1,"focus:border-primary-500","focus:ring-primary-500","dark:focus:border-primary-500","dark:focus:ring-primary-500","block","w-full","rounded-lg","border","border-gray-300","bg-gray-50","p-2.5","text-sm","text-gray-900","dark:border-gray-600","dark:bg-gray-700","dark:text-white","dark:placeholder-gray-400",3,"ngModelChange","change","ngModel"],["for","tenure",1,"mb-2","block","text-sm","font-medium","text-gray-900","dark:text-white"],["type","number","id","tenure","name","tenure","placeholder","","required","",1,"focus:border-primary-500","focus:ring-primary-500","dark:focus:border-primary-500","dark:focus:ring-primary-500","block","w-full","rounded-lg","border","border-gray-300","bg-gray-50","p-2.5","text-sm","text-gray-900","dark:border-gray-600","dark:bg-gray-700","dark:text-white","dark:placeholder-gray-400",3,"ngModelChange","change","ngModel"],["for","loan-start-date",1,"mb-2","block","text-sm","font-medium","text-gray-900","dark:text-white"],[1,"relative"],[1,"pointer-events-none","absolute","inset-y-0","start-0","flex","items-center","ps-3.5"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 20 20",1,"h-4","w-4","text-gray-500","dark:text-gray-400"],["d","M20 4a2 2 0 0 0-2-2h-2V1a1 1 0 0 0-2 0v1h-3V1a1 1 0 0 0-2 0v1H6V1a1 1 0 0 0-2 0v1H2a2 2 0 0 0-2 2v2h20V4ZM0 18a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8H0v10Zm5-8h10a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z"],["type","text","id","loan-start-date","name","loan-start-date","placeholder","DD/MM/YYYY","required","","readonly","",1,"focus:ring-primary-600","focus:border-primary-600","dark:focus:ring-primary-500","dark:focus:border-primary-500","block","w-full","rounded-lg","border","border-gray-300","bg-gray-50","p-2.5","ps-10","text-sm","text-gray-900","dark:border-gray-600","dark:bg-gray-700","dark:text-white","dark:placeholder-gray-400",3,"ngModelChange","ngModel"],["for","emi-due-day",1,"mb-2","block","text-sm","font-medium","text-gray-900","dark:text-white"],["type","number","id","emi-due-day","name","emi-due-day","placeholder","","required","",1,"focus:border-primary-500","focus:ring-primary-500","dark:focus:border-primary-500","dark:focus:ring-primary-500","block","w-full","rounded-lg","border","border-gray-300","bg-gray-50","p-2.5","text-sm","text-gray-900","dark:border-gray-600","dark:bg-gray-700","dark:text-white","dark:placeholder-gray-400",3,"ngModelChange","change","ngModel"],[1,"mt-6","md:mt-0"],[1,"mb-4","block","text-center","text-sm","font-medium","text-gray-900","dark:text-white"],[1,"grid","grid-cols-4","gap-4"],[1,"flex","items-center","justify-center"],[1,"block","text-xs","font-medium","text-gray-900","dark:text-white"],[1,"col-span-4","rounded-lg","bg-yellow-50","p-4","text-sm","text-yellow-800","dark:bg-gray-800","dark:text-yellow-300"],["type","number","name","prepayment-month","placeholder","","required","",1,"focus:border-primary-500","focus:ring-primary-500","dark:focus:border-primary-500","dark:focus:ring-primary-500","block","w-full","rounded-lg","border","border-gray-300","bg-gray-50","p-2","text-xs","text-gray-900","dark:border-gray-600","dark:bg-gray-700","dark:text-white","dark:placeholder-gray-400",3,"ngModelChange","ngModel"],["type","number","name","prepayment-amount","placeholder","","required","",1,"focus:border-primary-500","focus:ring-primary-500","dark:focus:border-primary-500","dark:focus:ring-primary-500","block","w-full","rounded-lg","border","border-gray-300","bg-gray-50","p-2","text-xs","text-gray-900","dark:border-gray-600","dark:bg-gray-700","dark:text-white","dark:placeholder-gray-400",3,"ngModelChange","ngModel"],["name","prepayment-adjustment-type",1,"focus:border-primary-500","focus:ring-primary-500","dark:focus:border-primary-500","dark:focus:ring-primary-500","block","w-full","rounded-lg","border","border-gray-300","bg-gray-50","p-2","text-xs","text-gray-900","dark:border-gray-600","dark:bg-gray-700","dark:text-white","dark:placeholder-gray-400",3,"ngModelChange","ngModel"],[3,"value"],["type","button",1,"border-primary-700","text-primary-700","hover:bg-primary-700","focus:ring-primary-300","dark:border-primary-500","dark:text-primary-500","dark:hover:bg-primary-500","dark:focus:ring-primary-800","inline-flex","items-center","rounded-full","border","p-1","text-center","text-sm","font-medium","hover:text-white","focus:outline-none","focus:ring-4","dark:hover:text-white",3,"click"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","width","24","height","24","fill","none","viewBox","0 0 24 24",1,"h-4","w-4"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 12h14m-7 7V5"],[1,"sr-only"],[1,"flex","w-full","justify-center","md:mt-0"],["type","submit",1,"bg-primary-700","hover:bg-primary-800","focus:ring-primary-300","dark:bg-primary-600","dark:hover:bg-primary-700","dark:focus:ring-primary-800","w-full","rounded-lg","px-5","py-2.5","text-center","text-sm","font-medium","text-white","focus:outline-none","focus:ring-4","sm:w-auto"],[1,"mt-6","flex","items-center","sm:hidden"],["for","tabs",1,"me-2","text-sm","font-medium","text-gray-900","dark:text-white"],["id","tabs",1,"flex-1","rounded-lg","border","border-gray-300","bg-gray-50","p-2.5","text-sm","text-gray-900","focus:border-blue-500","focus:ring-blue-500","dark:border-gray-600","dark:bg-gray-700","dark:text-white","dark:placeholder-gray-400","dark:focus:border-blue-500","dark:focus:ring-blue-500",3,"ngModelChange","ngModel"],[1,"mt-6","hidden","flex-wrap","border-b","border-gray-200","text-center","text-sm","font-medium","text-gray-500","sm:flex","dark:border-gray-700","dark:text-gray-400"],[1,"me-2",3,"click"],[1,"inline-block","cursor-pointer","rounded-t-lg","p-4"],[1,"inline-block","cursor-pointer","rounded-t-lg","p-4","hover:bg-gray-50","hover:text-gray-600","dark:hover:bg-gray-800","dark:hover:text-gray-300"],[1,"me-2"],[1,"mt-4","pb-4","sm:pb-0"],[1,"mt-4"],["type","number","name","revised-month","placeholder","","required","",1,"focus:border-primary-500","focus:ring-primary-500","dark:focus:border-primary-500","dark:focus:ring-primary-500","block","w-full","rounded-lg","border","border-gray-300","bg-gray-50","p-2","text-xs","text-gray-900","dark:border-gray-600","dark:bg-gray-700","dark:text-white","dark:placeholder-gray-400",3,"ngModelChange","ngModel"],["type","number","name","revised-interest","placeholder","","required","",1,"focus:border-primary-500","focus:ring-primary-500","dark:focus:border-primary-500","dark:focus:ring-primary-500","block","w-full","rounded-lg","border","border-gray-300","bg-gray-50","p-2","text-xs","text-gray-900","dark:border-gray-600","dark:bg-gray-700","dark:text-white","dark:placeholder-gray-400",3,"ngModelChange","ngModel"],["name","revised-adjustment-type",1,"focus:border-primary-500","focus:ring-primary-500","dark:focus:border-primary-500","dark:focus:ring-primary-500","block","w-full","rounded-lg","border","border-gray-300","bg-gray-50","p-2","text-xs","text-gray-900","dark:border-gray-600","dark:bg-gray-700","dark:text-white","dark:placeholder-gray-400",3,"ngModelChange","ngModel"],["type","number","disabled","",1,"focus:border-primary-500","focus:ring-primary-500","dark:focus:border-primary-500","dark:focus:ring-primary-500","block","w-full","rounded-lg","border","border-gray-300","bg-gray-50","p-2","text-xs","text-gray-900","dark:border-gray-600","dark:bg-gray-700","dark:text-white","dark:placeholder-gray-400",3,"value","name"],["disabled","",1,"focus:border-primary-500","focus:ring-primary-500","dark:focus:border-primary-500","dark:focus:ring-primary-500","block","w-full","rounded-lg","border","border-gray-300","bg-gray-50","p-2","text-xs","text-gray-900","dark:border-gray-600","dark:bg-gray-700","dark:text-white","dark:placeholder-gray-400",3,"name"],[3,"value","selected"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 12h14"],[1,"mt-10","text-center","text-xl","font-bold","leading-none","tracking-tight","text-gray-900","dark:text-white"],[1,"bg-primary-600","dark:bg-primary-500","rounded","px-2","py-1","text-2xl","font-extrabold","text-white"],[1,"mt-6","w-full","rounded-lg","bg-white","p-4","shadow","md:p-6","dark:bg-gray-800"],[1,"relative","mt-6"],[1,"absolute","-top-5","left-0","flex","h-full","w-full","flex-col","items-center","justify-center"],[1,"text-2xl","font-bold","text-black","dark:text-white"],[1,"relative","h-80","w-full"],["baseChart","",3,"type","data","options"],[1,"mt-4","w-full","rounded-lg","bg-white","p-4","px-2","shadow","md:p-6","dark:bg-gray-800"],[1,"relative","w-full","bg-white","dark:bg-gray-800",3,"ngClass"],["baseChart","",3,"type","data","options","plugins"],[1,"absolute",3,"ngClass"],["type","button",1,"rounded-lg","p-2","text-gray-500","hover:bg-gray-100","hover:text-gray-900","dark:text-gray-400","dark:hover:bg-gray-700","dark:hover:text-white",3,"click"],[1,"mt-6","pb-4","sm:pb-0"],[1,"relative","overflow-x-auto","rounded-lg"],[1,"w-full","text-left","text-sm","text-gray-500","rtl:text-right","dark:text-gray-400"],[1,"bg-gray-50","text-xs","uppercase","text-gray-700","dark:bg-gray-700","dark:text-gray-400"],["scope","col",1,"p-2","py-3","text-center","sm:p-4"],[1,"border-b","bg-white","dark:border-gray-700","dark:bg-gray-800"],[1,"mt-2","flex","flex-col","items-center"],[1,"text-sm","text-gray-700","dark:text-gray-400"],[1,"font-semibold","text-gray-900","dark:text-white"],[1,"xs:mt-0","mt-2","inline-flex"],[1,"inline-flex","h-8","items-center","justify-center","rounded-s","bg-gray-800","px-3","text-sm","font-medium","text-white","hover:bg-gray-900","disabled:pointer-events-none","dark:border-gray-700","dark:bg-gray-800","dark:text-gray-400","dark:hover:bg-gray-700","dark:hover:text-white",3,"click","disabled"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 14 10",1,"me-2","h-3.5","w-3.5","rtl:rotate-180"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13 5H1m0 0 4 4M1 5l4-4"],[1,"flex","h-8","items-center","justify-center","rounded-e","border-0","border-s","border-gray-700","bg-gray-800","px-3","text-sm","font-medium","text-white","hover:bg-gray-900","disabled:pointer-events-none","dark:border-gray-700","dark:bg-gray-800","dark:text-gray-400","dark:hover:bg-gray-700","dark:hover:text-white",3,"click","disabled"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 14 10",1,"ms-2","h-3.5","w-3.5","rtl:rotate-180"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M1 5h12m0 0L9 1m4 4L9 9"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","width","24","height","24","fill","none","viewBox","0 0 24 24",1,"h-6","w-6"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 9h4m0 0V5m0 4L4 4m15 5h-4m0 0V5m0 4 5-5M5 15h4m0 0v4m0-4-5 5m15-5h-4m0 0v4m0-4 5 5"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 4H4m0 0v4m0-4 5 5m7-5h4m0 0v4m0-4-5 5M8 20H4m0 0v-4m0 4 5-5m7 5h4m0 0v-4m0 4-5-5"],[1,"p-2","text-center","sm:p-4"],[1,"whitespace-nowrap","p-2","text-center","sm:p-4"],["data-tooltip-target","tooltip-pre-emi-payment","data-tooltip-placement","bottom",1,"cursor-help","underline","decoration-yellow-400","decoration-dotted"],["id","tooltip-pre-emi-payment","role","tooltip",1,"tooltip","invisible","absolute","z-10","inline-block","max-w-sm","rounded-lg","bg-gray-900","px-3","py-2","text-sm","font-medium","text-white","opacity-0","shadow-sm","dark:bg-gray-700"],["data-popper-arrow","",1,"tooltip-arrow"],[1,"mt-6","w-full","rounded-lg","bg-white","p-4","px-2","shadow","md:p-6","dark:bg-gray-800"]],template:function(e,t){if(e&1){let n=D();a(0,"div",6)(1,"h2",7),l(2," Loan EMI Calculator "),i(),a(3,"form",8),h("ngSubmit",function(){return c(n),p(t.calculateAmortization())}),a(4,"section",9)(5,"main")(6,"div",10)(7,"label",11),l(8,"Interest Rate Type"),i(),a(9,"div",12)(10,"div",13)(11,"input",14),A("ngModelChange",function(d){return c(n),I(t.interestRateType,d)||(t.interestRateType=d),p(d)}),h("change",function(){return c(n),p(t.calculateAmortization())}),i(),a(12,"label",15),l(13,"Floating"),i()(),a(14,"div",16)(15,"input",17),A("ngModelChange",function(d){return c(n),I(t.interestRateType,d)||(t.interestRateType=d),p(d)}),h("change",function(){return c(n),p(t.calculateAmortization())}),i(),a(16,"label",18),l(17,"Fixed"),i()()()(),a(18,"div",19)(19,"label",20),l(20,"Principal Amount"),i(),a(21,"input",21),A("ngModelChange",function(d){return c(n),I(t.principalAmount,d)||(t.principalAmount=d),p(d)}),h("change",function(){return c(n),p(t.calculateAmortization())}),i()(),a(22,"div",19)(23,"label",22),l(24,"Annual Interest Rate (%)"),i(),a(25,"input",23),A("ngModelChange",function(d){return c(n),I(t.annualInterestRate,d)||(t.annualInterestRate=d),p(d)}),h("change",function(){return c(n),p(t.calculateAmortization())}),i()(),a(26,"div",19)(27,"label",24),l(28,"Loan Term (years)"),i(),a(29,"input",25),A("ngModelChange",function(d){return c(n),I(t.loanTermYears,d)||(t.loanTermYears=d),p(d)}),h("change",function(){return c(n),p(t.calculateAmortization())}),i()(),a(30,"div",19)(31,"label",26),l(32,"Loan Start Date"),i(),a(33,"div",27)(34,"div",28),b(),a(35,"svg",29),y(36,"path",30),i()(),z(),a(37,"input",31,0),S(39,"date"),h("ngModelChange",function(d){return c(n),p(t.onLoanStartDateChange(d))}),i()()(),a(40,"div")(41,"label",32),l(42,"EMI Due Day"),i(),a(43,"input",33),A("ngModelChange",function(d){return c(n),I(t.emiDebitDay,d)||(t.emiDebitDay=d),p(d)}),h("change",function(){return c(n),p(t.calculateAmortization())}),i()()(),a(44,"aside",34),w(45,pt,34,6,"section",19),a(46,"section")(47,"h2",35),l(48," Prepayments "),i(),a(49,"div",36)(50,"div",37)(51,"h2",38),l(52," Month "),i()(),a(53,"div",37)(54,"h2",38),l(55," Amount "),i()(),a(56,"div",37)(57,"h2",38),l(58," Adjust "),i()(),a(59,"div",37)(60,"h2",38),l(61," Add/Remove "),i()(),w(62,gt,2,0)(63,ht,2,0,"div",39),a(64,"div",37)(65,"input",40),A("ngModelChange",function(d){return c(n),I(t.prepaymentMonth,d)||(t.prepaymentMonth=d),p(d)}),i()(),a(66,"div",37)(67,"input",41),A("ngModelChange",function(d){return c(n),I(t.prepaymentAmount,d)||(t.prepaymentAmount=d),p(d)}),i()(),a(68,"div",37)(69,"select",42),h("ngModelChange",function(d){return c(n),p(t.onPrepaymentAdjustmentTypeChange(d))}),a(70,"option",43),l(71,"Tenure"),i(),a(72,"option",43),l(73,"EMI"),i()()(),a(74,"div",37)(75,"button",44),h("click",function(){return c(n),p(t.addPrepayment())}),b(),a(76,"svg",45),y(77,"path",46),i(),z(),a(78,"span",47),l(79,"Add"),i()()()()()()(),a(80,"div",48)(81,"button",49),l(82," Calculate "),i()()(),w(83,yt,18,11),a(84,"div",50)(85,"label",51),l(86,"View"),i(),a(87,"select",52),h("ngModelChange",function(d){return c(n),p(t.onTabChange(d))}),a(88,"option",43),l(89," Amortization Schedule "),i(),a(90,"option",43),l(91," Financial Year Summary "),i(),w(92,_t,2,1,"option",43),i()(),a(93,"ul",53)(94,"li",54),h("click",function(){return c(n),p(t.activeTab=t.Tabs.AMORTIZATION_SCHEDULE)}),a(95,"p",55),l(96," Amortization Schedule "),i()(),a(97,"li",54),h("click",function(){return c(n),p(t.activeTab=t.Tabs.FINANCIAL_YEAR_SUMMARY)}),a(98,"p",56),l(99," Financial Year Summary "),i()(),w(100,ft,3,2,"li",57),i(),w(101,Et,50,15)(102,kt,37,5,"section",58)(103,It,2,1,"section",59),i()}e&2&&(s(11),P("ngModel",t.interestRateType),u("value",t.InterestRateType.FLOATING),s(4),P("ngModel",t.interestRateType),u("value",t.InterestRateType.FIXED),s(6),P("ngModel",t.principalAmount),s(4),P("ngModel",t.annualInterestRate),s(4),P("ngModel",t.loanTermYears),s(8),u("ngModel",v(39,29,t.loanStartDate,"dd/MM/yyyy")),s(6),P("ngModel",t.emiDebitDay),s(2),C(t.interestRateType===t.InterestRateType.FLOATING?45:-1),s(17),C(t.prepayments.length>0?62:63),s(3),P("ngModel",t.prepaymentMonth),s(2),P("ngModel",t.prepaymentAmount),s(2),u("ngModel",t.prepaymentAdjustmentType),s(),u("value",t.RevisionAdjustmentType.TENURE),s(2),u("value",t.RevisionAdjustmentType.EMI),s(11),C(t.monthlyPayment?83:-1),s(4),u("ngModel",t.activeTab),s(),u("value",t.Tabs.AMORTIZATION_SCHEDULE),s(2),u("value",t.Tabs.FINANCIAL_YEAR_SUMMARY),s(2),C(t.interestRateType===t.InterestRateType.FLOATING&&t.rateChanges.length>0?92:-1),s(3),q("active",t.activeTab===t.Tabs.AMORTIZATION_SCHEDULE),s(3),q("active",t.activeTab===t.Tabs.FINANCIAL_YEAR_SUMMARY),s(2),C(t.interestRateType===t.InterestRateType.FLOATING&&t.rateChanges.length>0?100:-1),s(),C(t.activeTab===t.Tabs.AMORTIZATION_SCHEDULE&&t.amortizationSchedule.length>0?101:-1),s(),C(t.activeTab===t.Tabs.FINANCIAL_YEAR_SUMMARY&&t.financialYearSummaries.length>0?102:-1),s(),C(t.interestRateType===t.InterestRateType.FLOATING&&t.rateChanges.length>0&&t.activeTab===t.Tabs.INTEREST_RATE_REVISIONS?103:-1))},dependencies:[Me,ke,Q,Te,Be,De,Ye,Oe,Ie,Ne,ze,Fe,Ae,Re,je,Ve,Le,J],styles:[".active[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity));--tw-text-opacity: 1;color:rgb(79 70 229 / var(--tw-text-opacity))}.active[_ngcontent-%COMP%]:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity));--tw-text-opacity: 1;color:rgb(99 102 241 / var(--tw-text-opacity))}"],changeDetection:0})};Xe=_e([Ze(),fe("design:paramtypes",[Document,le,Q])],Xe);export{Xe as LoanEmiCalculatorPage};
